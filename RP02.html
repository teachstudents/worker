<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Practice 02</title>
    <style>
        :root {
            --primary: #1a365d;
            --secondary: #2b6cb0;
            --success: #2f855a;
            --error: #c53030;
            --warning: #dd6b20;
            --light: #f7fafc;
            --dark: #1a202c;
            --gray: #4a5568;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: #2d3748;
            background-color: #edf2f7;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-title {
            font-size: 1.4rem;
            font-weight: 600;
        }
        
        .header-stats {
            display: flex;
            gap: 20px;
            font-size: 1rem;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timer {
            font-weight: bold;
            color: #f6e05e;
        }
        
        .score-display {
            font-weight: bold;
        }
        
        /* Start Screen */
        .start-screen {
            padding: 40px;
            text-align: center;
        }
        
        .start-screen h2 {
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .name-input-group {
            margin: 30px 0;
        }
        
        .name-input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .name-input {
            width: 100%;
            max-width: 400px;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        .name-input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .error-message {
            color: var(--error);
            margin-top: 8px;
            font-size: 0.95rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .start-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 14px 35px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .start-btn:hover {
            background: #2c5282;
        }
        
        .start-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
        }
        
        .instructions {
            background: var(--light);
            border-left: 4px solid var(--secondary);
            padding: 15px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
            text-align: left;
        }
        
        .instructions ul {
            padding-left: 20px;
            margin-top: 10px;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
        
        /* Test Content */
        .passage-section {
            padding: 25px;
            display: none;
        }
        
        .passage-section.active {
            display: block;
            animation: fadeIn 0.4s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .passage-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .passage-text {
            background: var(--light);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 1.05rem;
            line-height: 1.7;
            border-left: 4px solid var(--secondary);
        }
        
        .question-box {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .question-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .skill-tag {
            background: #ebf8ff;
            color: var(--secondary);
            padding: 3px 10px;
            border-radius: 15px;
            font-weight: 500;
        }
        
        .options {
            display: grid;
            gap: 12px;
            margin-top: 10px;
        }
        
        .option-btn {
            padding: 14px 20px;
            border: 2px solid var(--border);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            text-align: left;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .option-btn:hover {
            background: #f7fafc;
            border-color: var(--secondary);
        }
        
        .option-btn.correct {
            background: #c6f6d5;
            border-color: var(--success);
            color: #22543d;
            font-weight: 500;
        }
        
        .option-btn.incorrect {
            background: #fed7d7;
            border-color: var(--error);
            color: #742a2a;
            font-weight: 500;
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.85;
        }
        
        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option-btn.correct .option-letter {
            background: var(--success);
        }
        
        .option-btn.incorrect .option-letter {
            background: var(--error);
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            border: 1px solid var(--success);
            color: #22543d;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            border: 1px solid var(--error);
            color: #742a2a;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Navigation */
        .navigation {
            padding: 20px 25px;
            background: var(--light);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-btn {
            padding: 12px 28px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .nav-btn.prev {
            background: #718096;
            color: white;
        }
        
        .nav-btn.next {
            background: var(--secondary);
            color: white;
        }
        
        .nav-btn.next:hover {
            background: #2c5282;
        }
        
        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .passage-indicator {
            font-weight: 500;
            color: var(--primary);
        }
        
        /* Results Screen */
        .results-screen {
            padding: 30px;
            display: none;
            text-align: center;
        }
        
        .results-screen.active {
            display: block;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #38a169 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 25px;
            box-shadow: 0 4px 15px rgba(47, 133, 90, 0.4);
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .results-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .meta-item {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary);
        }
        
        .meta-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark);
        }
        
        .skills-summary {
            margin: 30px 0;
            text-align: left;
        }
        
        .skills-summary h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .skill-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: var(--light);
        }
        
        .skill-item.missed {
            background: #fff5f5;
            border-left: 4px solid var(--error);
        }
        
        .skill-item.mastered {
            border-left: 4px solid var(--success);
        }
        
        .export-section {
            margin: 35px 0;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }
        
        .export-section h3 {
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .export-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .export-btn {
            padding: 14px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-wechat {
            background: #07c160;
            color: white;
        }
        
        .btn-email {
            background: var(--error);
            color: white;
        }
        
        .btn-lms {
            background: var(--secondary);
            color: white;
        }
        
        .btn-download {
            background: #805ad5;
            color: white;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--dark);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s, fadeOut 0.3s 2.7s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(200px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 12px 15px;
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .header-stats {
                width: 100%;
                justify-content: center;
            }
            
            .passage-text {
                padding: 20px 15px;
                font-size: 1rem;
            }
            
            .question-box {
                padding: 15px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .export-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .export-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with Timer and Score -->
        <div class="header">
            <div class="header-title">Reading Practice 02</div>
            <div class="header-stats">
                <div class="stat-item">
                    <span>‚è±Ô∏è</span>
                    <span class="timer" id="timer">00:00</span>
                </div>
                <div class="stat-item">
                    <span>‚úÖ</span>
                    <span class="score-display" id="score-display">0/20</span>
                </div>
            </div>
        </div>
        
        <!-- Start Screen -->
        <div class="start-screen" id="start-screen">
            <h2>Welcome to Reading Practice 02</h2>
            <p>Please enter your name to begin the test.</p>
            
            <div class="name-input-group">
                <label for="tester-name">Your Name (Pinyin or English only)</label>
                <input type="text" id="tester-name" class="name-input" placeholder="e.g., Li Ming or Sarah Johnson">
                <div class="error-message" id="name-error">Please use Pinyin or English characters only. Chinese characters are not accepted.</div>
            </div>
            
            <div class="instructions">
                <p><strong>Test Instructions:</strong></p>
                <ul>
                    <li>Read each passage carefully before answering questions</li>
                    <li>Select the best answer for each question</li>
                    <li>You will receive immediate feedback after each answer</li>
                    <li>The test has 20 questions across 5 passages</li>
                    <li>Estimated time: 35-40 minutes</li>
                </ul>
            </div>
            
            <button class="start-btn" id="start-btn">Start Test</button>
        </div>
        
        <!-- Passage 1: Transportation Guide -->
        <div class="passage-section" data-passage="1">
            <h2 class="passage-title">Passage 1: City Transportation Guide</h2>
            <div class="passage-text">
                <p>Welcome to River City! Getting around is easy with our integrated transportation system. Here's what you need to know:</p>
                <p><strong>üöá Metro:</strong> Runs daily 5:30 AM - 12:30 AM. Single ride: $2.50. Day pass: $8. Download the MetroApp for real-time schedules and mobile tickets.</p>
                <p><strong>üöå Bus Network:</strong> Over 100 routes covering all neighborhoods. Fare: $1.75 (exact change) or use a transit card. Buses arrive every 10-15 minutes during peak hours.</p>
                <p><strong>üö≤ Bike Share:</strong> 500+ stations across the city. First 30 minutes free with app registration. After that: $0.15/minute. Helmets recommended but not required.</p>
                <p><strong>üöï Ride Services:</strong> Available via major apps. Average fare downtown: $10-15. Surge pricing may apply during rush hours or bad weather.</p>
                <p><strong>‚ôø Accessibility:</strong> All metro stations and buses are wheelchair accessible. Request assistance at any station booth or call 555-0199.</p>
                <p><em>Tip: Purchase a River Card at any metro station for discounted fares across all transportation modes.</em></p>
            </div>
            
            <div class="question-box" id="qbox-1">
                <div class="question-meta">
                    <span>Question 1 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">What is the cost of a single metro ride in River City?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(1, 'A', this)">
                        <span class="option-letter">A</span> $1.75
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'B', this)">
                        <span class="option-letter">B</span> $2.50
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'C', this)">
                        <span class="option-letter">C</span> $8.00
                    </button>
                    <button class="option-btn" onclick="checkAnswer(1, 'D', this)">
                        <span class="option-letter">D</span> $10-15
                    </button>
                </div>
                <div class="feedback" id="feedback-1"></div>
            </div>
            
            <div class="question-box" id="qbox-2">
                <div class="question-meta">
                    <span>Question 2 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">Which transportation option offers the first 30 minutes free?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(2, 'A', this)">
                        <span class="option-letter">A</span> Metro
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'B', this)">
                        <span class="option-letter">B</span> Bus Network
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'C', this)">
                        <span class="option-letter">C</span> Bike Share
                    </button>
                    <button class="option-btn" onclick="checkAnswer(2, 'D', this)">
                        <span class="option-letter">D</span> Ride Services
                    </button>
                </div>
                <div class="feedback" id="feedback-2"></div>
            </div>
            
            <div class="question-box" id="qbox-3">
                <div class="question-meta">
                    <span>Question 3 of 20</span>
                    <span class="skill-tag">Detail Comprehension (NOT)</span>
                </div>
                <p class="question-text">Which of the following is NOT mentioned as a payment method for buses?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(3, 'A', this)">
                        <span class="option-letter">A</span> Exact change
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'B', this)">
                        <span class="option-letter">B</span> Transit card
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'C', this)">
                        <span class="option-letter">C</span> Mobile app payment
                    </button>
                    <button class="option-btn" onclick="checkAnswer(3, 'D', this)">
                        <span class="option-letter">D</span> River Card
                    </button>
                </div>
                <div class="feedback" id="feedback-3"></div>
            </div>
            
            <div class="question-box" id="qbox-4">
                <div class="question-meta">
                    <span>Question 4 of 20</span>
                    <span class="skill-tag">Vocabulary in Context</span>
                </div>
                <p class="question-text">In the passage, the word "integrated" (first paragraph) most nearly means:</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(4, 'A', this)">
                        <span class="option-letter">A</span> separate and independent
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'B', this)">
                        <span class="option-letter">B</span> combined and working together
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'C', this)">
                        <span class="option-letter">C</span> expensive and luxurious
                    </button>
                    <button class="option-btn" onclick="checkAnswer(4, 'D', this)">
                        <span class="option-letter">D</span> old-fashioned and slow
                    </button>
                </div>
                <div class="feedback" id="feedback-4"></div>
            </div>
        </div>
        
        <!-- Passage 2: The Library Volunteer -->
        <div class="passage-section" data-passage="2">
            <h2 class="passage-title">Passage 2: The Library Volunteer</h2>
            <div class="passage-text">
                <p>When I first walked into the Riverside Library, I felt overwhelmed. Rows of books stretched to the ceiling, and the quiet atmosphere made me whisper even my thoughts. I had come to volunteer, but I wasn't sure what I could possibly contribute.</p>
                <p>Mrs. Chen, the head librarian, greeted me warmly. "Every helper makes a difference," she said. She started me with simple tasks: reshelving children's books, organizing magazines, and helping visitors find the restroom. With each small success, my confidence grew.</p>
                <p>One afternoon, a young boy approached me, looking lost. "I can't find books about space," he said quietly. I remembered where the astronomy section was and walked with him to the right shelf. His face lit up when he found a book with colorful planets. "Thank you!" he exclaimed, and in that moment, I understood why people volunteer.</p>
                <p>Now, six months later, I lead weekend story hours for children. I've learned that helping others doesn't require grand gestures‚Äîjust willingness to start where you are. The library taught me that every book has a reader waiting, and every person has something valuable to share.</p>
            </div>
            
            <div class="question-box" id="qbox-5">
                <div class="question-meta">
                    <span>Question 5 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">Why did the writer initially feel overwhelmed at the library?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(5, 'A', this)">
                        <span class="option-letter">A</span> The library was too noisy
                    </button>
                    <button class="option-btn" onclick="checkAnswer(5, 'B', this)">
                        <span class="option-letter">B</span> The size and quiet atmosphere were intimidating
                    </button>
                    <button class="option-btn" onclick="checkAnswer(5, 'C', this)">
                        <span class="option-letter">C</span> Mrs. Chen was unfriendly
                    </button>
                    <button class="option-btn" onclick="checkAnswer(5, 'D', this)">
                        <span class="option-letter">D</span> There were no books about space
                    </button>
                </div>
                <div class="feedback" id="feedback-5"></div>
            </div>
            
            <div class="question-box" id="qbox-6">
                <div class="question-meta">
                    <span>Question 6 of 20</span>
                    <span class="skill-tag">Inference</span>
                </div>
                <p class="question-text">What can we infer about the writer's experience helping the young boy?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(6, 'A', this)">
                        <span class="option-letter">A</span> It was frustrating because the boy was difficult
                    </button>
                    <button class="option-btn" onclick="checkAnswer(6, 'B', this)">
                        <span class="option-letter">B</span> It helped the writer understand the value of volunteering
                    </button>
                    <button class="option-btn" onclick="checkAnswer(6, 'C', this)">
                        <span class="option-letter">C</span> It made the writer want to quit volunteering
                    </button>
                    <button class="option-btn" onclick="checkAnswer(6, 'D', this)">
                        <span class="option-letter">D</span> It was the writer's first day at the library
                    </button>
                </div>
                <div class="feedback" id="feedback-6"></div>
            </div>
            
            <div class="question-box" id="qbox-7">
                <div class="question-meta">
                    <span>Question 7 of 20</span>
                    <span class="skill-tag">Vocabulary in Context</span>
                </div>
                <p class="question-text">In paragraph 3, the word "lit up" most probably means:</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(7, 'A', this)">
                        <span class="option-letter">A</span> became bright with happiness
                    </button>
                    <button class="option-btn" onclick="checkAnswer(7, 'B', this)">
                        <span class="option-letter">B</span> was illuminated by a light
                    </button>
                    <button class="option-btn" onclick="checkAnswer(7, 'C', this)">
                        <span class="option-letter">C</span> became confused and worried
                    </button>
                    <button class="option-btn" onclick="checkAnswer(7, 'D', this)">
                        <span class="option-letter">D</span> started to cry
                    </button>
                </div>
                <div class="feedback" id="feedback-7"></div>
            </div>
            
            <div class="question-box" id="qbox-8">
                <div class="question-meta">
                    <span>Question 8 of 20</span>
                    <span class="skill-tag">Main Idea</span>
                </div>
                <p class="question-text">What is the central message of this passage?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(8, 'A', this)">
                        <span class="option-letter">A</span> Libraries are too large and intimidating for new volunteers
                    </button>
                    <button class="option-btn" onclick="checkAnswer(8, 'B', this)">
                        <span class="option-letter">B</span> Small acts of helping can lead to personal growth and meaningful connections
                    </button>
                    <button class="option-btn" onclick="checkAnswer(8, 'C', this)">
                        <span class="option-letter">C</span> Children's books about space are the most popular in libraries
                    </button>
                    <button class="option-btn" onclick="checkAnswer(8, 'D', this)">
                        <span class="option-letter">D</span> Volunteering requires special skills and experience
                    </button>
                </div>
                <div class="feedback" id="feedback-8"></div>
            </div>
        </div>
        
        <!-- Passage 3: Ocean Plastic Pollution -->
        <div class="passage-section" data-passage="3">
            <h2 class="passage-title">Passage 3: Ocean Plastic Pollution</h2>
            <div class="passage-text">
                <p>Every year, approximately 8 million tons of plastic waste enter the world's oceans. This pollution harms marine life, damages ecosystems, and even affects human health through the food chain.</p>
                <p>Plastic breaks down into tiny particles called microplastics, which are ingested by fish, seabirds, and other marine animals. These particles can carry toxic chemicals that accumulate in the food web. When humans consume seafood containing microplastics, we may ingest these harmful substances too.</p>
                <p>Solutions require action at multiple levels. Individuals can reduce single-use plastics by carrying reusable bags, bottles, and containers. Communities can improve waste management systems and support beach cleanups. Governments can implement policies like plastic bag bans and producer responsibility laws that require companies to manage their packaging waste.</p>
                <p>Innovation also offers hope. Scientists are developing biodegradable alternatives to conventional plastics and technologies to remove plastic from oceans. However, experts agree that prevention‚Äîstopping plastic from entering the environment in the first place‚Äîis more effective than cleanup after the fact.</p>
                <p>As marine biologist Dr. Lena Torres states: "Every piece of plastic ever made still exists in some form. Our choices today determine what kind of ocean future we create."</p>
            </div>
            
            <div class="question-box" id="qbox-9">
                <div class="question-meta">
                    <span>Question 9 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">According to the passage, approximately how much plastic waste enters oceans each year?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(9, 'A', this)">
                        <span class="option-letter">A</span> 8 thousand tons
                    </button>
                    <button class="option-btn" onclick="checkAnswer(9, 'B', this)">
                        <span class="option-letter">B</span> 8 million tons
                    </button>
                    <button class="option-btn" onclick="checkAnswer(9, 'C', this)">
                        <span class="option-letter">C</span> 8 billion tons
                    </button>
                    <button class="option-btn" onclick="checkAnswer(9, 'D', this)">
                        <span class="option-letter">D</span> 80 million tons
                    </button>
                </div>
                <div class="feedback" id="feedback-9"></div>
            </div>
            
            <div class="question-box" id="qbox-10">
                <div class="question-meta">
                    <span>Question 10 of 20</span>
                    <span class="skill-tag">Reference</span>
                </div>
                <p class="question-text">In paragraph 2, what does the word "These" refer to in "These particles can carry toxic chemicals"?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(10, 'A', this)">
                        <span class="option-letter">A</span> marine animals
                    </button>
                    <button class="option-btn" onclick="checkAnswer(10, 'B', this)">
                        <span class="option-letter">B</span> toxic chemicals
                    </button>
                    <button class="option-btn" onclick="checkAnswer(10, 'C', this)">
                        <span class="option-letter">C</span> microplastics
                    </button>
                    <button class="option-btn" onclick="checkAnswer(10, 'D', this)">
                        <span class="option-letter">D</span> human consumers
                    </button>
                </div>
                <div class="feedback" id="feedback-10"></div>
            </div>
            
            <div class="question-box" id="qbox-11">
                <div class="question-meta">
                    <span>Question 11 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">Which solution does the passage mention that individuals can implement?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(11, 'A', this)">
                        <span class="option-letter">A</span> Banning all plastic production
                    </button>
                    <button class="option-btn" onclick="checkAnswer(11, 'B', this)">
                        <span class="option-letter">B</span> Using reusable bags, bottles, and containers
                    </button>
                    <button class="option-btn" onclick="checkAnswer(11, 'C', this)">
                        <span class="option-letter">C</span> Developing new ocean cleanup technologies
                    </button>
                    <button class="option-btn" onclick="checkAnswer(11, 'D', this)">
                        <span class="option-letter">D</span> Implementing producer responsibility laws
                    </button>
                </div>
                <div class="feedback" id="feedback-11"></div>
            </div>
            
            <div class="question-box" id="qbox-12">
                <div class="question-meta">
                    <span>Question 12 of 20</span>
                    <span class="skill-tag">Inference</span>
                </div>
                <p class="question-text">Based on the passage, why do experts consider prevention more effective than cleanup for ocean plastic pollution?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(12, 'A', this)">
                        <span class="option-letter">A</span> Cleanup technologies are too expensive for most countries
                    </button>
                    <button class="option-btn" onclick="checkAnswer(12, 'B', this)">
                        <span class="option-letter">B</span> Plastic breaks down too quickly to be cleaned up effectively
                    </button>
                    <button class="option-btn" onclick="checkAnswer(12, 'C', this)">
                        <span class="option-letter">C</span> Once plastic enters the environment, it's difficult to remove completely
                    </button>
                    <button class="option-btn" onclick="checkAnswer(12, 'D', this)">
                        <span class="option-letter">D</span> Marine animals prefer plastic over natural food sources
                    </button>
                </div>
                <div class="feedback" id="feedback-12"></div>
            </div>
        </div>
        
        <!-- Passage 4: Remote Learning Reflections -->
        <div class="passage-section" data-passage="4">
            <h2 class="passage-title">Passage 4: Remote Learning Reflections</h2>
            <div class="passage-text">
                <p>The shift to remote learning during global disruptions revealed both challenges and opportunities in education. While many students struggled with isolation and technical issues, others discovered new ways to engage with material and manage their time.</p>
                <p>Research from the International Education Institute found that successful remote learners shared common strategies: establishing dedicated study spaces, maintaining regular schedules, and actively participating in online discussions. Students who set clear boundaries between school and personal time reported lower stress levels and better academic performance.</p>
                <p>However, the digital divide remained a significant barrier. Students without reliable internet access or personal devices faced substantial disadvantages. Schools in under-resourced communities worked creatively to bridge this gap‚Äîdistributing hotspots, providing loaner devices, and offering offline learning packets‚Äîbut systemic inequities persisted.</p>
                <p>Looking forward, educators advocate for a blended approach that combines the flexibility of digital tools with the irreplaceable value of in-person interaction. As Professor Maria Gonzalez notes: "Technology should enhance education, not replace the human connections that make learning meaningful." The future of education likely lies not in choosing between remote and traditional models, but in thoughtfully integrating both to serve diverse learner needs.</p>
            </div>
            
            <div class="question-box" id="qbox-13">
                <div class="question-meta">
                    <span>Question 13 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">According to the research mentioned, what strategy did successful remote learners use?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(13, 'A', this)">
                        <span class="option-letter">A</span> Studying only at night when it's quiet
                    </button>
                    <button class="option-btn" onclick="checkAnswer(13, 'B', this)">
                        <span class="option-letter">B</span> Establishing dedicated study spaces and regular schedules
                    </button>
                    <button class="option-btn" onclick="checkAnswer(13, 'C', this)">
                        <span class="option-letter">C</span> Avoiding all online discussions to reduce screen time
                    </button>
                    <button class="option-btn" onclick="checkAnswer(13, 'D', this)">
                        <span class="option-letter">D</span> Using multiple devices simultaneously for multitasking
                    </button>
                </div>
                <div class="feedback" id="feedback-13"></div>
            </div>
            
            <div class="question-box" id="qbox-14">
                <div class="question-meta">
                    <span>Question 14 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">What does the passage identify as a "significant barrier" to remote learning?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(14, 'A', this)">
                        <span class="option-letter">A</span> Students preferring in-person classes
                    </button>
                    <button class="option-btn" onclick="checkAnswer(14, 'B', this)">
                        <span class="option-letter">B</span> The digital divide (lack of internet/devices)
                    </button>
                    <button class="option-btn" onclick="checkAnswer(14, 'C', this)">
                        <span class="option-letter">C</span> Teachers being unfamiliar with technology
                    </button>
                    <button class="option-btn" onclick="checkAnswer(14, 'D', this)">
                        <span class="option-letter">D</span> Students having too much free time
                    </button>
                </div>
                <div class="feedback" id="feedback-14"></div>
            </div>
            
            <div class="question-box" id="qbox-15">
                <div class="question-meta">
                    <span>Question 15 of 20</span>
                    <span class="skill-tag">Text Structure</span>
                </div>
                <p class="question-text">How is paragraph 3 related to paragraph 2 in the passage?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(15, 'A', this)">
                        <span class="option-letter">A</span> Paragraph 3 provides examples that support the strategies in paragraph 2
                    </button>
                    <button class="option-btn" onclick="checkAnswer(15, 'B', this)">
                        <span class="option-letter">B</span> Paragraph 3 introduces a contrasting challenge that complicates the solutions in paragraph 2
                    </button>
                    <button class="option-btn" onclick="checkAnswer(15, 'C', this)">
                        <span class="option-letter">C</span> Paragraph 3 repeats the same information as paragraph 2 using different words
                    </button>
                    <button class="option-btn" onclick="checkAnswer(15, 'D', this)">
                        <span class="option-letter">D</span> Paragraph 3 introduces a completely unrelated topic about school funding
                    </button>
                </div>
                <div class="feedback" id="feedback-15"></div>
            </div>
            
            <div class="question-box" id="qbox-16">
                <div class="question-meta">
                    <span>Question 16 of 20</span>
                    <span class="skill-tag">Author's Purpose</span>
                </div>
                <p class="question-text">What is the writer's main purpose in writing this passage?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(16, 'A', this)">
                        <span class="option-letter">A</span> To argue that remote learning should completely replace traditional classrooms
                    </button>
                    <button class="option-btn" onclick="checkAnswer(16, 'B', this)">
                        <span class="option-letter">B</span> To present a balanced analysis of remote learning's challenges and opportunities, advocating for thoughtful integration
                    </button>
                    <button class="option-btn" onclick="checkAnswer(16, 'C', this)">
                        <span class="option-letter">C</span> To promote specific educational technology products and services
                    </button>
                    <button class="option-btn" onclick="checkAnswer(16, 'D', this)">
                        <span class="option-letter">D</span> To criticize schools for not adapting quickly enough to digital learning
                    </button>
                </div>
                <div class="feedback" id="feedback-16"></div>
            </div>
        </div>
        
        <!-- Passage 5: The Growth Mindset -->
        <div class="passage-section" data-passage="5">
            <h2 class="passage-title">Passage 5: The Growth Mindset</h2>
            <div class="passage-text">
                <p>Psychologist Carol Dweck's research on mindset has transformed how we understand learning and achievement. She distinguishes between two fundamental beliefs about ability: the fixed mindset and the growth mindset.</p>
                <p>People with a fixed mindset believe that intelligence and talents are static traits‚Äîyou either have them or you don't. This perspective can lead to avoiding challenges, giving up easily when faced with obstacles, and seeing effort as fruitless. When students with fixed mindsets encounter difficulty, they may think, "I'm just not good at this," and disengage.</p>
                <p>In contrast, those with a growth mindset believe that abilities can be developed through dedication and hard work. They embrace challenges, persist through setbacks, and view effort as the path to mastery. A student with a growth mindset might think, "This is hard, but I can improve with practice," and seek strategies to overcome difficulties.</p>
                <p>Importantly, mindsets are not permanent personality traits‚Äîthey can be changed. Teachers and parents can foster growth mindsets by praising effort and strategy rather than innate ability, framing challenges as opportunities to learn, and normalizing struggle as part of the learning process. As Dweck emphasizes: "Becoming is better than being." The journey of growth matters more than any fixed destination.</p>
            </div>
            
            <div class="question-box" id="qbox-17">
                <div class="question-meta">
                    <span>Question 17 of 20</span>
                    <span class="skill-tag">Detail Comprehension</span>
                </div>
                <p class="question-text">According to the passage, what is a characteristic of the fixed mindset?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(17, 'A', this)">
                        <span class="option-letter">A</span> Believing abilities can be developed through effort
                    </button>
                    <button class="option-btn" onclick="checkAnswer(17, 'B', this)">
                        <span class="option-letter">B</span> Embracing challenges as learning opportunities
                    </button>
                    <button class="option-btn" onclick="checkAnswer(17, 'C', this)">
                        <span class="option-letter">C</span> Believing intelligence and talents are static traits
                    </button>
                    <button class="option-btn" onclick="checkAnswer(17, 'D', this)">
                        <span class="option-letter">D</span> Viewing effort as the path to mastery
                    </button>
                </div>
                <div class="feedback" id="feedback-17"></div>
            </div>
            
            <div class="question-box" id="qbox-18">
                <div class="question-meta">
                    <span>Question 18 of 20</span>
                    <span class="skill-tag">Inference</span>
                </div>
                <p class="question-text">Based on the passage, how might a teacher foster a growth mindset in students?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(18, 'A', this)">
                        <span class="option-letter">A</span> By telling students they are naturally smart at certain subjects
                    </button>
                    <button class="option-btn" onclick="checkAnswer(18, 'B', this)">
                        <span class="option-letter">B</span> By praising effort and strategy rather than innate ability
                    </button>
                    <button class="option-btn" onclick="checkAnswer(18, 'C', this)">
                        <span class="option-letter">C</span> By avoiding challenging assignments to prevent frustration
                    </button>
                    <button class="option-btn" onclick="checkAnswer(18, 'D', this)">
                        <span class="option-letter">D</span> By comparing students' abilities to motivate competition
                    </button>
                </div>
                <div class="feedback" id="feedback-18"></div>
            </div>
            
            <div class="question-box" id="qbox-19">
                <div class="question-meta">
                    <span>Question 19 of 20</span>
                    <span class="skill-tag">Vocabulary in Context</span>
                </div>
                <p class="question-text">In the final paragraph, the word "normalizing" most nearly means:</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(19, 'A', this)">
                        <span class="option-letter">A</span> making something seem unusual or abnormal
                    </button>
                    <button class="option-btn" onclick="checkAnswer(19, 'B', this)">
                        <span class="option-letter">B</span> making something seem ordinary and acceptable
                    </button>
                    <button class="option-btn" onclick="checkAnswer(19, 'C', this)">
                        <span class="option-letter">C</span> eliminating something completely
                    </button>
                    <button class="option-btn" onclick="checkAnswer(19, 'D', this)">
                        <span class="option-letter">D</span> criticizing something as inappropriate
                    </button>
                </div>
                <div class="feedback" id="feedback-19"></div>
            </div>
            
            <div class="question-box" id="qbox-20">
                <div class="question-meta">
                    <span>Question 20 of 20</span>
                    <span class="skill-tag">Main Idea</span>
                </div>
                <p class="question-text">What is the central message of this passage about mindsets?</p>
                <div class="options">
                    <button class="option-btn" onclick="checkAnswer(20, 'A', this)">
                        <span class="option-letter">A</span> People are born with fixed abilities that cannot change
                    </button>
                    <button class="option-btn" onclick="checkAnswer(20, 'B', this)">
                        <span class="option-letter">B</span> Believing abilities can grow through effort leads to greater resilience and achievement
                    </button>
                    <button class="option-btn" onclick="checkAnswer(20, 'C', this)">
                        <span class="option-letter">C</span> Teachers should only praise students who show natural talent
                    </button>
                    <button class="option-btn" onclick="checkAnswer(20, 'D', this)">
                        <span class="option-letter">D</span> Struggle and difficulty should be avoided in learning
                    </button>
                </div>
                <div class="feedback" id="feedback-20"></div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="navigation" id="navigation">
            <button class="nav-btn prev" onclick="prevSection()" id="prev-btn" disabled>‚Üê Previous</button>
            <span class="passage-indicator" id="passage-indicator">Passage 1 of 5</span>
            <button class="nav-btn next" onclick="nextSection()" id="next-btn">Next ‚Üí</button>
        </div>
        
        <!-- Results Screen -->
        <div class="results-screen" id="results-screen">
            <div class="results-header">
                <h2>Test Completed!</h2>
                <p>Here are your results for Reading Practice 02</p>
            </div>
            
            <div class="score-circle" id="final-score">0/20</div>
            
            <div class="results-meta">
                <div class="meta-item">
                    <div class="meta-label">Tester Name</div>
                    <div class="meta-value" id="result-name">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Date & Time</div>
                    <div class="meta-value" id="result-datetime">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Time Taken</div>
                    <div class="meta-value" id="result-duration">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Accuracy</div>
                    <div class="meta-value" id="result-accuracy">0%</div>
                </div>
            </div>
            
            <div class="skills-summary">
                <h3>Reading Skills Analysis</h3>
                <div id="skills-breakdown">
                    <!-- Skills breakdown will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div class="export-section">
                <h3>Share Your Results</h3>
                <div class="export-buttons">
                    <button class="export-btn btn-wechat" onclick="copyForWeChat()">
                        üí¨ Copy for WeChat
                    </button>
                    <button class="export-btn btn-email" onclick="emailResults()">
                        üìß Email Results
                    </button>
                    <button class="export-btn btn-lms" onclick="downloadForLMS()">
                        üì§ Download for LMS
                    </button>
                    <button class="export-btn btn-download" onclick="downloadPDF()">
                        üìÑ Save as PDF
                    </button>
                </div>
            </div>
            
            <button class="start-btn" onclick="restartTest()" style="margin-top: 20px;">
                üîÑ Take Another Practice Test
            </button>
        </div>
    </div>
    
    <div class="toast" id="toast">Results copied to clipboard!</div>
    
    <script>
        // Answer Key & Explanations with Skill Mapping
        const answers = {
            1: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The Metro section states: "Single ride: $2.50."<br><br>‚ùå A: That\'s the bus fare.<br>‚ùå C: That\'s the metro day pass price.<br>‚ùå D: That\'s the average ride service fare.',
                skill: 'Detail Comprehension'
            },
            2: { 
                correct: 'C', 
                explanation: '‚úÖ Correct! The Bike Share section states: "First 30 minutes free with app registration."<br><br>‚ùå A: Metro has fixed fares.<br>‚ùå B: Buses require payment per ride.<br>‚ùå D: Ride services charge per trip.',
                skill: 'Detail Comprehension'
            },
            3: { 
                correct: 'C', 
                explanation: '‚úÖ Correct! Mobile app payment is mentioned for Metro (MetroApp) but NOT for buses. Bus payment methods listed: exact change, transit card, or River Card.<br><br>‚ùå A, B, D: All explicitly mentioned as bus payment options.',
                skill: 'Detail Comprehension (NOT)'
            },
            4: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! "Integrated transportation system" describes different modes (metro, bus, bike, ride) working together as one network.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Not about cost or luxury.<br>‚ùå D: Not about speed or age.',
                skill: 'Vocabulary in Context'
            },
            5: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 1 states: "Rows of books stretched to the ceiling, and the quiet atmosphere made me whisper even my thoughts."<br><br>‚ùå A: Library was quiet, not noisy.<br>‚ùå C: Mrs. Chen was warm and welcoming.<br>‚ùå D: Space books weren\'t mentioned as missing initially.',
                skill: 'Detail Comprehension'
            },
            6: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 3 states: "in that moment, I understood why people volunteer," showing the experience helped the writer see the value of helping.<br><br>‚ùå A: The interaction was positive.<br>‚ùå C: The writer continued volunteering and grew into a leadership role.<br>‚ùå D: This happened after the writer had already been volunteering.',
                skill: 'Inference'
            },
            7: { 
                correct: 'A', 
                explanation: '‚úÖ Correct! Context shows the boy\'s face "lit up when he found a book with colorful planets" after being lost‚Äîindicating happiness and excitement.<br><br>‚ùå B: Literal light interpretation doesn\'t fit the emotional context.<br>‚ùå C: Opposite of the positive reaction described.<br>‚ùå D: No indication of sadness.',
                skill: 'Vocabulary in Context'
            },
            8: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Final paragraph states: "helping others doesn\'t require grand gestures‚Äîjust willingness to start where you are" and "every person has something valuable to share."<br><br>‚ùå A: Contradicted by the writer\'s positive growth.<br>‚ùå C: Too narrow; space books were just one example.<br>‚ùå D: Opposite of passage message about starting with simple tasks.',
                skill: 'Main Idea'
            },
            9: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! First paragraph states: "approximately 8 million tons of plastic waste enter the world\'s oceans."<br><br>‚ùå A: Too small by factor of 1,000.<br>‚ùå C: Too large by factor of 1,000.<br>‚ùå D: Incorrect magnitude.',
                skill: 'Detail Comprehension'
            },
            10: { 
                correct: 'C', 
                explanation: '‚úÖ Correct! "Plastic breaks down into tiny particles called microplastics... These particles can carry toxic chemicals"‚Äî"These" refers to the microplastics just mentioned.<br><br>‚ùå A: Marine animals ingest the particles, but aren\'t the particles themselves.<br>‚ùå B: Chemicals are carried by the particles, not the referent of "these."<br>‚ùå D: Humans are consumers at the end of the food chain.',
                skill: 'Reference'
            },
            11: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 3 states individuals can "reduce single-use plastics by carrying reusable bags, bottles, and containers."<br><br>‚ùå A: Government-level policy, not individual action.<br>‚ùå C: Scientist/innovation solution.<br>‚ùå D: Government policy solution.',
                skill: 'Detail Comprehension'
            },
            12: { 
                correct: 'C', 
                explanation: '‚úÖ Correct! Passage states: "prevention‚Äîstopping plastic from entering the environment in the first place‚Äîis more effective than cleanup after the fact," implying removal is difficult once plastic is in oceans.<br><br>‚ùå A: Cost isn\'t discussed as the primary reason.<br>‚ùå B: Plastic breaks down slowly into microplastics, not quickly.<br>‚ùå D: Not supported; animals ingest plastic accidentally.',
                skill: 'Inference'
            },
            13: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 2 states successful remote learners used: "establishing dedicated study spaces, maintaining regular schedules, and actively participating in online discussions."<br><br>‚ùå A: Not mentioned as a key strategy.<br>‚ùå C: Opposite; active participation was recommended.<br>‚ùå D: Not discussed; multitasking wasn\'t highlighted.',
                skill: 'Detail Comprehension'
            },
            14: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 3 states: "the digital divide remained a significant barrier" referring to lack of reliable internet or devices.<br><br>‚ùå A: Preference isn\'t identified as a barrier.<br>‚ùå C: Teacher tech familiarity isn\'t mentioned as the main barrier.<br>‚ùå D: Too much free time wasn\'t discussed.',
                skill: 'Detail Comprehension'
            },
            15: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 2 discusses strategies for successful remote learning; paragraph 3 begins with "However, the digital divide remained a significant barrier"‚Äîintroducing a contrasting challenge that complicates implementing those strategies equitably.<br><br>‚ùå A: Examples were in paragraph 2.<br>‚ùå C: New content about inequity, not repetition.<br>‚ùå D: Directly related as a complicating factor.',
                skill: 'Text Structure'
            },
            16: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Passage presents challenges (isolation, digital divide) and opportunities (flexibility, new engagement methods) of remote learning, then advocates for "a blended approach" that "thoughtfully integrates both" models.<br><br>‚ùå A: Opposite; passage values in-person interaction.<br>‚ùå C: No products promoted.<br>‚ùå D: Passage acknowledges schools\' creative efforts, doesn\'t criticize.',
                skill: 'Author\'s Purpose'
            },
            17: { 
                correct: 'C', 
                explanation: '‚úÖ Correct! Paragraph 2 defines fixed mindset: "believe that intelligence and talents are static traits‚Äîyou either have them or you don\'t."<br><br>‚ùå A, B, D: All describe growth mindset characteristics from paragraph 3.',
                skill: 'Detail Comprehension'
            },
            18: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Final paragraph states teachers can foster growth mindsets by "praising effort and strategy rather than innate ability."<br><br>‚ùå A: Praising innate ability reinforces fixed mindset.<br>‚ùå C: Avoiding challenges contradicts growth mindset principles.<br>‚ùå D: Comparison can reinforce fixed comparisons of ability.',
                skill: 'Inference'
            },
            19: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! "Normalizing struggle as part of the learning process" means making struggle seem ordinary and acceptable, not shameful or abnormal.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Not about elimination.<br>‚ùå D: Not about criticism.',
                skill: 'Vocabulary in Context'
            },
            20: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Passage opens by distinguishing mindsets, details how growth mindset leads to embracing challenges and persisting, and concludes that "Becoming is better than being"‚Äîthe journey of growth matters.<br><br>‚ùå A: Directly contradicted; mindsets can change.<br>‚ùå C: Opposite of recommended praise strategy.<br>‚ùå D: Opposite; struggle is framed as valuable.',
                skill: 'Main Idea'
            }
        };

        // Question to Passage Mapping
        const questionToPassage = {
            1:1, 2:1, 3:1, 4:1,
            5:2, 6:2, 7:2, 8:2,
            9:3, 10:3, 11:3, 12:3,
            13:4, 14:4, 15:4, 16:4,
            17:5, 18:5, 19:5, 20:5
        };

        // State Variables
        let currentSection = 1;
        let score = 0;
        let answered = {};
        let timerSeconds = 0;
        let timerInterval;
        let testerName = '';
        let testStartTime;
        let testEndTime;

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const resultsScreen = document.getElementById('results-screen');
        const nameInput = document.getElementById('tester-name');
        const nameError = document.getElementById('name-error');
        const startBtn = document.getElementById('start-btn');
        const timerDisplay = document.getElementById('timer');
        const scoreDisplay = document.getElementById('score-display');
        const passageIndicator = document.getElementById('passage-indicator');
        const toast = document.getElementById('toast');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            startBtn.addEventListener('click', startTest);
            nameInput.addEventListener('input', validateName);
        });

        // Name Validation - Block Chinese Characters
        function validateName() {
            const name = nameInput.value.trim();
            // Regex to detect Chinese characters (Unicode range for CJK)
            const hasChinese = /[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u.test(name);
            
            if (hasChinese) {
                nameError.classList.add('show');
                startBtn.disabled = true;
            } else {
                nameError.classList.remove('show');
                startBtn.disabled = name === '';
            }
        }

        // Start Test
        function startTest() {
            testerName = nameInput.value.trim() || 'Anonymous';
            testStartTime = new Date();
            
            // Hide start screen, show first passage
            startScreen.style.display = 'none';
            document.querySelector(`[data-passage="1"]`).classList.add('active');
            
            // Start timer
            startTimer();
            
            // Update header
            updateHeader();
        }

        // Timer Functions
        function startTimer() {
            timerInterval = setInterval(() => {
                timerSeconds++;
                const mins = Math.floor(timerSeconds / 60).toString().padStart(2, '0');
                const secs = (timerSeconds % 60).toString().padStart(2, '0');
                timerDisplay.textContent = `${mins}:${secs}`;
            }, 1000);
        }

        // Check Answer with Feedback
        function checkAnswer(questionNum, selected, btn) {
            if (answered[questionNum]) return; // Prevent multiple answers

            answered[questionNum] = selected;
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const allBtns = btn.parentElement.querySelectorAll('.option-btn');
            
            // Disable all buttons for this question
            allBtns.forEach(b => b.disabled = true);

            // Check answer and provide feedback
            if (selected === answers[questionNum].correct) {
                score++;
                btn.classList.add('correct');
                feedback.classList.add('correct');
                feedback.innerHTML = `<div class="feedback-title">‚úÖ Correct!</div>${answers[questionNum].explanation}`;
            } else {
                btn.classList.add('incorrect');
                feedback.classList.add('incorrect');
                feedback.innerHTML = `<div class="feedback-title">‚ùå Incorrect</div>${answers[questionNum].explanation}`;
                
                // Highlight correct answer
                allBtns.forEach(b => {
                    if (b.textContent.trim().startsWith(answers[questionNum].correct + '.')) {
                        b.classList.add('correct');
                    }
                });
            }

            feedback.style.display = 'block';
            updateScoreDisplay();
            
            // Check if all questions in current passage are answered
            checkPassageComplete();
        }

        // Check if Current Passage is Complete
        function checkPassageComplete() {
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) {
                if (questionToPassage[q] === currentSection) {
                    currentPassageQuestions.push(q);
                }
            }
            
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (allAnswered && currentSection < 5) {
                document.getElementById('next-btn').textContent = 'Next Passage ‚Üí';
            }
        }

        // Navigation Functions
        function nextSection() {
            // Check if all questions in current passage are answered
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) {
                if (questionToPassage[q] === currentSection) {
                    currentPassageQuestions.push(q);
                }
            }
            
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (!allAnswered) {
                alert(`Please answer all ${currentPassageQuestions.length} questions in this passage before continuing.`);
                return;
            }
            
            // If all 20 questions answered, show results
            if (Object.keys(answered).length === 20) {
                showResults();
                return;
            }
            
            // Move to next passage
            if (currentSection < 5) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection++;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('prev-btn').disabled = false;
                window.scrollTo(0, 0);
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection--;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('next-btn').textContent = 'Next ‚Üí';
                if (currentSection === 1) {
                    document.getElementById('prev-btn').disabled = true;
                }
                window.scrollTo(0, 0);
            }
        }

        // Update Header Display
        function updateHeader() {
            passageIndicator.textContent = `Passage ${currentSection} of 5`;
            updateScoreDisplay();
        }

        function updateScoreDisplay() {
            scoreDisplay.textContent = `${score}/${Object.keys(answered).length}`;
        }

        // Show Results Screen
        function showResults() {
            testEndTime = new Date();
            clearInterval(timerInterval);
            
            // Hide navigation and current passage
            document.getElementById('navigation').style.display = 'none';
            document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
            
            // Show results screen
            resultsScreen.classList.add('active');
            
            // Populate results
            document.getElementById('result-name').textContent = testerName;
            document.getElementById('result-datetime').textContent = testEndTime.toLocaleString();
            
            // Calculate duration
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            document.getElementById('result-duration').textContent = 
                `${durationMins}m ${durationSecs.toString().padStart(2, '0')}s`;
            
            // Calculate and display final score
            const finalScore = `${score}/20`;
            document.getElementById('final-score').textContent = finalScore;
            document.getElementById('result-accuracy').textContent = 
                `${Math.round((score / 20) * 100)}%`;
            
            // Generate skills breakdown
            generateSkillsBreakdown();
        }

        // Generate Skills Analysis
        function generateSkillsBreakdown() {
            const skillsBreakdown = document.getElementById('skills-breakdown');
            skillsBreakdown.innerHTML = '';
            
            // Group questions by skill
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) {
                    skillGroups[skill] = { total: 0, correct: 0, questions: [] };
                }
                skillGroups[skill].total++;
                if (answered[q] === answers[q].correct) {
                    skillGroups[skill].correct++;
                } else {
                    skillGroups[skill].questions.push(q);
                }
            }
            
            // Create skill items
            Object.entries(skillGroups).forEach(([skill, data]) => {
                const isMastered = data.correct === data.total;
                const skillItem = document.createElement('div');
                skillItem.className = `skill-item ${isMastered ? 'mastered' : 'missed'}`;
                
                let missedInfo = '';
                if (!isMastered && data.questions.length > 0) {
                    missedInfo = `<br><small style="color: #742a2a">Missed questions: ${data.questions.join(', ')}</small>`;
                }
                
                skillItem.innerHTML = `
                    <div>
                        <strong>${skill}</strong>
                        <div style="font-size: 0.9rem; color: #4a5568">${data.correct}/${data.total} correct</div>
                        ${missedInfo}
                    </div>
                    <div style="font-weight: bold; color: ${isMastered ? '#2f855a' : '#c53030'}">
                        ${isMastered ? '‚úì Mastered' : '‚ö† Review'}
                    </div>
                `;
                skillsBreakdown.appendChild(skillItem);
            });
        }

        // Export Functions
        function copyForWeChat() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            
            const text = `üìö Reading Practice 02 Results\n\n` +
                         `üë§ Name: ${testerName}\n` +
                         `üìÖ Date: ${testEndTime.toLocaleDateString()}\n` +
                         `‚è±Ô∏è Time: ${durationMins}m ${durationSecs}s\n` +
                         `‚úÖ Score: ${score}/20 (${accuracy}%)\n\n` +
                         `üìä Skills Review:\n`;
            
            // Add skills summary
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 };
                skillGroups[skill].total++;
                if (answered[q] === answers[q].correct) skillGroups[skill].correct++;
            }
            
            Object.entries(skillGroups).forEach(([skill, data]) => {
                const status = data.correct === data.total ? '‚úì' : '‚ö†';
                text += `${status} ${skill}: ${data.correct}/${data.total}\n`;
            });
            
            text += `\nüí° Focus on skills marked with ‚ö† for improvement.`;
            
            // Copy to clipboard (WeChat-compatible method)
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showToast('Results copied! Paste in WeChat to share.');
            } catch (err) {
                alert('Please manually copy these results:\n\n' + text);
            }
            
            document.body.removeChild(textArea);
        }

        function emailResults() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            
            let emailBody = `Reading Practice 02 Results\n\n`;
            emailBody += `Student: ${testerName}\n`;
            emailBody += `Date Completed: ${testEndTime.toLocaleString()}\n`;
            emailBody += `Time Taken: ${durationMins} minutes, ${durationSecs} seconds\n`;
            emailBody += `Score: ${score} out of 20 questions (${accuracy}% accuracy)\n\n`;
            
            emailBody += `Detailed Results:\n`;
            emailBody += `----------------\n`;
            
            // Add each question result
            for (let q = 1; q <= 20; q++) {
                const isCorrect = answered[q] === answers[q].correct;
                emailBody += `Q${q} [${answers[q].skill}]: ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}\n`;
            }
            
            emailBody += `\nSkills Analysis:\n`;
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 };
                skillGroups[skill].total++;
                if (answered[q] === answers[q].correct) skillGroups[skill].correct++;
            }
            
            Object.entries(skillGroups).forEach(([skill, data]) => {
                emailBody += `- ${skill}: ${data.correct}/${data.total} correct\n`;
            });
            
            const subject = encodeURIComponent(`Reading Practice 02 Results - ${testerName}`);
            const body = encodeURIComponent(emailBody);
            
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function downloadForLMS() {
            // Create JSON object for LMS upload
            const resultsData = {
                testName: "Reading Practice 02",
                studentName: testerName,
                completedAt: testEndTime.toISOString(),
                durationSeconds: timerSeconds,
                totalQuestions: 20,
                correctAnswers: score,
                accuracyPercent: Math.round((score / 20) * 100),
                questionResults: [],
                skillsAnalysis: {}
            };
            
            // Add question results
            for (let q = 1; q <= 20; q++) {
                resultsData.questionResults.push({
                    questionNumber: q,
                    skill: answers[q].skill,
                    selectedAnswer: answered[q],
                    correctAnswer: answers[q].correct,
                    isCorrect: answered[q] === answers[q].correct
                });
            }
            
            // Add skills analysis
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) {
                    skillGroups[skill] = { 
                        totalQuestions: 0, 
                        correctAnswers: 0,
                        missedQuestions: []
                    };
                }
                skillGroups[skill].totalQuestions++;
                if (answered[q] === answers[q].correct) {
                    skillGroups[skill].correctAnswers++;
                } else {
                    skillGroups[skill].missedQuestions.push(q);
                }
            }
            resultsData.skillsAnalysis = skillGroups;
            
            // Create and download JSON file
            const dataStr = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(resultsData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", `reading_practice_02_${testerName.replace(/\s+/g, '_')}_${new Date().toISOString().slice(0,10)}.json`);
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            
            showToast('Results downloaded for LMS upload!');
        }

        function downloadPDF() {
            // In a real implementation, this would use a library like jsPDF
            // For this demo, we'll show an alert with instructions
            alert(`PDF generation requires additional libraries. For this demo:\n\n1. Copy your results using the "Copy for WeChat" button\n2. Paste into a document\n3. Save as PDF using your browser\'s print function (Ctrl+P ‚Üí Save as PDF)\n\nIn a production version, this would generate a professional PDF report automatically.`);
        }

        function showToast(message) {
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        // Restart Test
        function restartTest() {
            // Reset state
            currentSection = 1;
            score = 0;
            answered = {};
            timerSeconds = 0;
            testerName = '';
            
            // Clear UI
            nameInput.value = '';
            nameError.classList.remove('show');
            startBtn.disabled = true;
            document.getElementById('next-btn').textContent = 'Next ‚Üí';
            document.getElementById('prev-btn').disabled = true;
            document.getElementById('passage-indicator').textContent = 'Passage 1 of 5';
            
            // Reset questions
            document.querySelectorAll('.feedback').forEach(fb => {
                fb.style.display = 'none';
                fb.classList.remove('correct', 'incorrect');
            });
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.disabled = false;
            });
            
            // Hide results, show start screen
            resultsScreen.classList.remove('active');
            startScreen.style.display = 'block';
            
            // Reset timer display
            timerDisplay.textContent = '00:00';
            scoreDisplay.textContent = '0/0';
            
            // Stop any running timer
            clearInterval(timerInterval);
        }
    </script>
</body>
</html>