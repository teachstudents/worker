<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Practice 04</title>
    <style>
        :root {
            --primary: #1a5f7a;
            --secondary: #159895;
            --success: #2e7d32;
            --error: #c62828;
            --warning: #ef6c00;
            --light: #f8fdff;
            --dark: #0a1929;
            --gray: #455a64;
            --border: #b0bec5;
            --shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: #263238;
            background-color: #eceff1;
            padding: 15px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: visible;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-title {
            font-size: 1.4rem;
            font-weight: 600;
        }
        
        .header-stats {
            display: flex;
            gap: 20px;
            font-size: 1rem;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timer {
            font-weight: bold;
            color: #ffcc80;
        }
        
        .score-display {
            font-weight: bold;
        }
        
        /* Start Screen */
        .start-screen {
            padding: 40px;
            text-align: center;
        }
        
        .start-screen h2 {
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .name-input-group {
            margin: 30px 0;
        }
        
        .name-input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .name-input {
            width: 100%;
            max-width: 400px;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        .name-input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .error-message {
            color: var(--error);
            margin-top: 8px;
            font-size: 0.95rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .start-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 14px 35px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .start-btn:hover {
            background: #00897b;
        }
        
        .start-btn:disabled {
            background: #90a4ae;
            cursor: not-allowed;
        }
        
        .instructions {
            background: var(--light);
            border-left: 4px solid var(--secondary);
            padding: 15px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
            text-align: left;
        }
        
        .instructions ul {
            padding-left: 20px;
            margin-top: 10px;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
        
        /* Two-Column Layout for Test Content */
        .test-layout {
            display: none;
            padding: 20px;
            gap: 20px;
        }
        
        .test-layout.active {
            display: grid;
            grid-template-columns: 3fr 1fr; /* 75% text, 25% questions */
            animation: fadeIn 0.4s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Left Column: Passage Text */
        .passage-column {
            padding-right: 15px;
            border-right: 1px solid var(--border);
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }
        
        .passage-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .passage-text {
            background: var(--light);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.05rem;
            line-height: 1.7;
            border-left: 4px solid var(--secondary);
        }
        
        /* Right Column: Questions - FIXED SCROLLING */
        .questions-column {
            padding-left: 15px;
            overflow-y: auto;
            max-height: calc(100vh - 150px);
            padding-bottom: 20px;
            position: relative;
            z-index: 10;
        }
        
        .question-box {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .question-text {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .question-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .skill-tag {
            background: #e0f7fa;
            color: var(--secondary);
            padding: 2px 8px;
            border-radius: 12px;
            font-weight: 500;
            font-size: 0.8rem;
        }
        
        .options {
            display: grid;
            gap: 8px;
            margin-top: 8px;
        }
        
        .option-btn {
            padding: 10px 15px;
            border: 2px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            text-align: left;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .option-btn:hover {
            background: #f5f5f5;
            border-color: var(--secondary);
        }
        
        .option-btn.correct {
            background: #c8e6c9;
            border-color: var(--success);
            color: #1b5e20;
            font-weight: 500;
        }
        
        .option-btn.incorrect {
            background: #ffcdd2;
            border-color: var(--error);
            color: #b71c1c;
            font-weight: 500;
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.85;
        }
        
        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        
        .option-btn.correct .option-letter {
            background: var(--success);
        }
        
        .option-btn.incorrect .option-letter {
            background: var(--error);
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            display: none;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .feedback.correct {
            background: #c8e6c9;
            border: 1px solid var(--success);
            color: #1b5e20;
        }
        
        .feedback.incorrect {
            background: #ffcdd2;
            border: 1px solid var(--error);
            color: #b71c1c;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
        }
        
        /* Navigation */
        .navigation {
            padding: 15px 25px;
            background: var(--light);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-btn {
            padding: 10px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .nav-btn.prev {
            background: #78909c;
            color: white;
        }
        
        .nav-btn.next {
            background: var(--secondary);
            color: white;
        }
        
        .nav-btn.next:hover {
            background: #00897b;
        }
        
        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .passage-indicator {
            font-weight: 500;
            color: var(--primary);
            font-size: 1rem;
        }
        
        /* Results Screen */
        .results-screen {
            padding: 30px;
            display: none;
            text-align: center;
        }
        
        .results-screen.active {
            display: block;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #43a047 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 25px;
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .results-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .meta-item {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary);
        }
        
        .meta-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark);
        }
        
        .skills-summary {
            margin: 30px 0;
            text-align: left;
        }
        
        .skills-summary h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .skill-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: var(--light);
        }
        
        .skill-item.missed {
            background: #ffebee;
            border-left: 4px solid var(--error);
        }
        
        .skill-item.mastered {
            border-left: 4px solid var(--success);
        }
        
        .export-section {
            margin: 35px 0;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }
        
        .export-section h3 {
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .export-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .export-btn {
            padding: 14px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-wechat {
            background: #07c160;
            color: white;
        }
        
        .btn-email {
            background: var(--error);
            color: white;
        }
        
        .btn-lms {
            background: var(--secondary);
            color: white;
        }
        
        .btn-download {
            background: #5e35b1;
            color: white;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--dark);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s, fadeOut 0.3s 2.7s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(200px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 900px) {
            .test-layout.active {
                grid-template-columns: 1fr; /* Stack on smaller screens */
            }
            
            .passage-column {
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding-right: 0;
                padding-bottom: 15px;
                margin-bottom: 15px;
                max-height: none;
            }
            
            .questions-column {
                padding-left: 0;
                max-height: none;
            }
            
            body {
                padding: 10px;
            }
            
            .header {
                padding: 12px 15px;
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .header-stats {
                width: 100%;
                justify-content: center;
            }
            
            .passage-text {
                padding: 20px 15px;
                font-size: 1rem;
            }
            
            .question-box {
                padding: 12px;
            }
            
            .export-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .export-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with Timer and Score -->
        <div class="header">
            <div class="header-title">Reading Practice 04</div>
            <div class="header-stats">
                <div class="stat-item">
                    <span>‚è±Ô∏è</span>
                    <span class="timer" id="timer">00:00</span>
                </div>
                <div class="stat-item">
                    <span>‚úÖ</span>
                    <span class="score-display" id="score-display">0/20</span>
                </div>
            </div>
        </div>
        
        <!-- Start Screen -->
        <div class="start-screen" id="start-screen">
            <h2>Welcome to Reading Practice 04</h2>
            <p>Please enter your name to begin the test.</p>
            
            <div class="name-input-group">
                <label for="tester-name">Your Name (Pinyin or English only)</label>
                <input type="text" id="tester-name" class="name-input" placeholder="e.g., Liu Wei or Emma Davis">
                <div class="error-message" id="name-error">Please use Pinyin or English characters only. Chinese characters are not accepted.</div>
            </div>
            
            <div class="instructions">
                <p><strong>Test Instructions:</strong></p>
                <ul>
                    <li>Read each passage carefully before answering questions</li>
                    <li>Select the best answer for each question</li>
                    <li>You will receive immediate feedback after each answer</li>
                    <li>The test has 20 questions across 5 passages</li>
                    <li>Estimated time: 35-40 minutes</li>
                </ul>
            </div>
            
            <button class="start-btn" id="start-btn">Start Test</button>
        </div>
        
        <!-- Test Layout: Two Columns -->
        <div class="test-layout" id="test-layout">
            <!-- Left Column: Passage Text -->
            <div class="passage-column">
                <!-- Passage 1: Time Management -->
                <div class="passage-section active" data-passage="1">
                    <h2 class="passage-title">Passage 1: Time Management Tips</h2>
                    <div class="passage-text">
                        <p>Managing time effectively is a skill that benefits students, professionals, and everyone in between. These evidence-based strategies can help you make the most of your day:</p>
                        <p><strong>üìã Prioritize with the 2-Minute Rule:</strong> If a task takes less than two minutes, do it immediately. This prevents small tasks from piling up and becoming overwhelming.</p>
                        <p><strong>‚è∞ Use time blocking:</strong> Schedule specific blocks of time for different activities (study, work, breaks). Treat these blocks like appointments you can't miss.</p>
                        <p><strong>üéØ Focus on one task at a time:</strong> Multitasking reduces efficiency. Research shows it can take up to 23 minutes to refocus after an interruption. Single-tasking leads to higher quality work.</p>
                        <p><strong>üîÑ Review and adjust weekly:</strong> Spend 15 minutes each week reviewing what worked and what didn't. Adjust your schedule accordingly‚Äîflexibility is key to sustainable time management.</p>
                        <p><em>Tip: Start with just one strategy this week. Small, consistent changes create lasting habits.</em></p>
                    </div>
                </div>
                
                <!-- Passage 2: The First Day -->
                <div class="passage-section" data-passage="2">
                    <h2 class="passage-title">Passage 2: The First Day</h2>
                    <div class="passage-text">
                        <p>My hands were sweaty as I walked through the gates of Riverside High. Everything felt unfamiliar‚Äîthe hallways, the lockers, the faces rushing past. I clutched my schedule like a lifeline, hoping no one would notice how lost I felt.</p>
                        <p>Then I saw a friendly smile. "You look like you could use a hand," said a girl with bright purple hair. "I'm Maya. First day too?" I nodded, relieved. She walked with me to my first class, pointing out the library, cafeteria, and best bathrooms along the way.</p>
                        <p>At lunch, Maya introduced me to her group. They asked about my old school, my hobbies, what I thought of the classes. For the first time that day, I felt my shoulders relax. One of them, Leo, noticed I had a sketchbook. "You draw?" he asked. I showed him a quick sketch of the school courtyard. "That's awesome!" he said. "We need someone for the yearbook club."</p>
                        <p>By the end of the day, I still didn't know all the hallways by heart. But I knew something more important: I wasn't alone. As Maya said at dismissal: "Everyone feels lost sometimes. The trick is finding your people." I smiled. I think I'd just found mine.</p>
                    </div>
                </div>
                
                <!-- Passage 3: Water Conservation -->
                <div class="passage-section" data-passage="3">
                    <h2 class="passage-title">Passage 3: Water Conservation</h2>
                    <div class="passage-text">
                        <p>Water is essential for life, yet many regions face increasing scarcity due to climate change, population growth, and pollution. Conserving water isn't just an environmental issue‚Äîit's a practical necessity for sustainable communities.</p>
                        <p>Simple actions at home make a significant difference. Fixing a dripping faucet can save up to 3,000 gallons per year. Taking shorter showers (5 minutes instead of 10) reduces water use by half. Installing water-efficient appliances like low-flow toilets and showerheads can cut household water use by 20-30%.</p>
                        <p>Outdoor water use also matters. Watering gardens early morning or late evening reduces evaporation. Choosing native, drought-resistant plants requires less irrigation. Collecting rainwater in barrels provides free water for plants without using treated tap water.</p>
                        <p>Community efforts amplify individual actions. Schools can install water refill stations to reduce plastic bottle waste. Businesses can recycle water for non-potable uses. Cities can invest in infrastructure to reduce pipe leaks, which waste billions of gallons annually.</p>
                        <p>As water scientist Dr. Sofia Chen states: "Every drop saved today ensures availability for tomorrow." Conservation isn't about sacrifice‚Äîit's about smart, intentional use of a precious resource we all share.</p>
                    </div>
                </div>
                
                <!-- Passage 4: The Value of Hobbies -->
                <div class="passage-section" data-passage="4">
                    <h2 class="passage-title">Passage 4: The Value of Hobbies</h2>
                    <div class="passage-text">
                        <p>In a world focused on productivity and achievement, hobbies are often dismissed as "just for fun." Yet research in psychology and neuroscience reveals that leisure activities provide profound benefits for mental health, creativity, and even professional success.</p>
                        <p>Engaging in hobbies reduces stress by activating the brain's relaxation response. Activities like gardening, painting, or playing music lower cortisol levels and increase feelings of calm. Unlike passive entertainment, active hobbies provide a sense of accomplishment and flow‚Äîa state of deep engagement where time seems to disappear.</p>
                        <p>Hobbies also foster creativity and problem-solving skills. A programmer who knits may approach code with fresh perspective; a teacher who hikes might find new ways to explain complex concepts. The skills practiced in leisure‚Äîpatience, experimentation, resilience‚Äîtransfer to work and relationships.</p>
                        <p>Importantly, hobbies build identity beyond roles. You're not just a student or employee; you're also a photographer, a baker, a cyclist. This multifaceted identity buffers against burnout and provides joy independent of external validation.</p>
                        <p>As psychologist Dr. Marcus Lee observes: "Hobbies aren't distractions from a meaningful life‚Äîthey're essential ingredients." Making time for what we love isn't selfish; it's sustainable self-care that enriches every part of our lives.</p>
                    </div>
                </div>
                
                <!-- Passage 5: Critical Thinking -->
                <div class="passage-section" data-passage="5">
                    <h2 class="passage-title">Passage 5: Critical Thinking Skills</h2>
                    <div class="passage-text">
                        <p>Critical thinking‚Äîthe ability to analyze information objectively and make reasoned judgments‚Äîis increasingly vital in our complex, information-rich world. Unlike memorizing facts, critical thinking is a skill that can be developed through practice.</p>
                        <p>Key components include: <strong>Questioning assumptions</strong> (asking "What evidence supports this?"), <strong>Evaluating sources</strong> (considering credibility, bias, and context), and <strong>Recognizing logical fallacies</strong> (identifying errors in reasoning like false dilemmas or ad hominem attacks).</p>
                        <p>Practical strategies to strengthen critical thinking: First, pause before accepting information, especially online. Ask: Who created this? What's their purpose? What's missing? Second, seek diverse perspectives on an issue before forming conclusions. Third, practice explaining your reasoning to others‚Äîthis reveals gaps in your own logic.</p>
                        <p>Importantly, critical thinking isn't about being negative or cynical. It's about being curious, open-minded, and committed to truth. As educator Dr. Aisha Patel notes: "The goal isn't to have all the answers, but to ask better questions." In a world of rapid change, this skill empowers us to navigate uncertainty with clarity and confidence.</p>
                    </div>
                </div>
            </div>
            
            <!-- Right Column: Questions -->
            <div class="questions-column">
                <!-- Questions for Passage 1 -->
                <div class="questions-section active" data-passage="1">
                    <div class="question-box" id="qbox-1">
                        <div class="question-meta">
                            <span>Q1</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, what should you do with tasks that take less than two minutes?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(1, 'A', this)">
                                <span class="option-letter">A</span> Schedule them for later
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'B', this)">
                                <span class="option-letter">B</span> Do them immediately
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'C', this)">
                                <span class="option-letter">C</span> Delegate them to others
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'D', this)">
                                <span class="option-letter">D</span> Combine them into larger tasks
                            </button>
                        </div>
                        <div class="feedback" id="feedback-1"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-2">
                        <div class="question-meta">
                            <span>Q2</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">What does "time blocking" mean according to the passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(2, 'A', this)">
                                <span class="option-letter">A</span> Blocking distracting websites
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'B', this)">
                                <span class="option-letter">B</span> Scheduling specific time blocks for activities
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'C', this)">
                                <span class="option-letter">C</span> Taking frequent short breaks
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'D', this)">
                                <span class="option-letter">D</span> Working only during peak energy hours
                            </button>
                        </div>
                        <div class="feedback" id="feedback-2"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-3">
                        <div class="question-meta">
                            <span>Q3</span>
                            <span class="skill-tag">Detail (NOT)</span>
                        </div>
                        <p class="question-text">Which is NOT mentioned as a time management strategy?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(3, 'A', this)">
                                <span class="option-letter">A</span> The 2-Minute Rule
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'B', this)">
                                <span class="option-letter">B</span> Time blocking
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'C', this)">
                                <span class="option-letter">C</span> Multitasking to save time
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'D', this)">
                                <span class="option-letter">D</span> Weekly review and adjustment
                            </button>
                        </div>
                        <div class="feedback" id="feedback-3"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-4">
                        <div class="question-meta">
                            <span>Q4</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the passage, "sustainable" (in "sustainable time management") most nearly means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(4, 'A', this)">
                                <span class="option-letter">A</span> quick and easy to start
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'B', this)">
                                <span class="option-letter">B</span> able to be maintained long-term
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'C', this)">
                                <span class="option-letter">C</span> expensive but effective
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'D', this)">
                                <span class="option-letter">D</span> only for professionals
                            </button>
                        </div>
                        <div class="feedback" id="feedback-4"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 2 -->
                <div class="questions-section" data-passage="2">
                    <div class="question-box" id="qbox-5">
                        <div class="question-meta">
                            <span>Q5</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">Why did the writer feel nervous on the first day at Riverside High?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(5, 'A', this)">
                                <span class="option-letter">A</span> The school was too large
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'B', this)">
                                <span class="option-letter">B</span> Everything felt unfamiliar and they felt lost
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'C', this)">
                                <span class="option-letter">C</span> They forgot their schedule
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'D', this)">
                                <span class="option-letter">D</span> Maya was unfriendly at first
                            </button>
                        </div>
                        <div class="feedback" id="feedback-5"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-6">
                        <div class="question-meta">
                            <span>Q6</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">What can we infer about Maya from the passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(6, 'A', this)">
                                <span class="option-letter">A</span> She was also nervous and needed help
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'B', this)">
                                <span class="option-letter">B</span> She was confident and wanted to help others feel welcome
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'C', this)">
                                <span class="option-letter">C</span> She only helped the writer to get something in return
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'D', this)">
                                <span class="option-letter">D</span> She was a teacher at the school
                            </button>
                        </div>
                        <div class="feedback" id="feedback-6"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-7">
                        <div class="question-meta">
                            <span>Q7</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In paragraph 3, "relax" most probably means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(7, 'A', this)">
                                <span class="option-letter">A</span> to become less tense or anxious
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'B', this)">
                                <span class="option-letter">B</span> to fall asleep from tiredness
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'C', this)">
                                <span class="option-letter">C</span> to stop paying attention
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'D', this)">
                                <span class="option-letter">D</span> to become bored
                            </button>
                        </div>
                        <div class="feedback" id="feedback-7"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-8">
                        <div class="question-meta">
                            <span>Q8</span>
                            <span class="skill-tag">Main Idea</span>
                        </div>
                        <p class="question-text">What is the central message of this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(8, 'A', this)">
                                <span class="option-letter">A</span> First days at new schools are always terrible
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'B', this)">
                                <span class="option-letter">B</span> Finding supportive people can help us feel belonging in new situations
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'C', this)">
                                <span class="option-letter">C</span> Artistic talent is the key to making friends
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'D', this)">
                                <span class="option-letter">D</span> Schools should have better orientation programs
                            </button>
                        </div>
                        <div class="feedback" id="feedback-8"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 3 -->
                <div class="questions-section" data-passage="3">
                    <div class="question-box" id="qbox-9">
                        <div class="question-meta">
                            <span>Q9</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, how much water can fixing a dripping faucet save per year?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(9, 'A', this)">
                                <span class="option-letter">A</span> 300 gallons
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'B', this)">
                                <span class="option-letter">B</span> 3,000 gallons
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'C', this)">
                                <span class="option-letter">C</span> 30,000 gallons
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'D', this)">
                                <span class="option-letter">D</span> 300,000 gallons
                            </button>
                        </div>
                        <div class="feedback" id="feedback-9"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-10">
                        <div class="question-meta">
                            <span>Q10</span>
                            <span class="skill-tag">Reference</span>
                        </div>
                        <p class="question-text">In paragraph 3, what does "this" refer to in "this reduces evaporation"?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(10, 'A', this)">
                                <span class="option-letter">A</span> choosing native plants
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'B', this)">
                                <span class="option-letter">B</span> collecting rainwater
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'C', this)">
                                <span class="option-letter">C</span> watering gardens early morning or late evening
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'D', this)">
                                <span class="option-letter">D</span> using treated tap water
                            </button>
                        </div>
                        <div class="feedback" id="feedback-10"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-11">
                        <div class="question-meta">
                            <span>Q11</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">Which water conservation method is mentioned for outdoor use?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(11, 'A', this)">
                                <span class="option-letter">A</span> Installing low-flow toilets
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'B', this)">
                                <span class="option-letter">B</span> Taking shorter showers
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'C', this)">
                                <span class="option-letter">C</span> Choosing drought-resistant plants
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'D', this)">
                                <span class="option-letter">D</span> Fixing dripping faucets
                            </button>
                        </div>
                        <div class="feedback" id="feedback-11"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-12">
                        <div class="question-meta">
                            <span>Q12</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">Based on the passage, why might community efforts be important for water conservation?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(12, 'A', this)">
                                <span class="option-letter">A</span> They make individual actions unnecessary
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'B', this)">
                                <span class="option-letter">B</span> They amplify the impact of individual actions
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'C', this)">
                                <span class="option-letter">C</span> They are cheaper than individual actions
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'D', this)">
                                <span class="option-letter">D</span> They only work in large cities
                            </button>
                        </div>
                        <div class="feedback" id="feedback-12"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 4 -->
                <div class="questions-section" data-passage="4">
                    <div class="question-box" id="qbox-13">
                        <div class="question-meta">
                            <span>Q13</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, how do hobbies reduce stress?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(13, 'A', this)">
                                <span class="option-letter">A</span> By increasing cortisol levels
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'B', this)">
                                <span class="option-letter">B</span> By activating the brain's relaxation response
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'C', this)">
                                <span class="option-letter">C</span> By making people work harder
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'D', this)">
                                <span class="option-letter">D</span> By eliminating all responsibilities
                            </button>
                        </div>
                        <div class="feedback" id="feedback-13"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-14">
                        <div class="question-meta">
                            <span>Q14</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">What benefit of hobbies is mentioned regarding professional life?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(14, 'A', this)">
                                <span class="option-letter">A</span> Hobbies guarantee promotions
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'B', this)">
                                <span class="option-letter">B</span> Skills from hobbies can transfer to work and problem-solving
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'C', this)">
                                <span class="option-letter">C</span> Hobbies replace the need for work experience
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'D', this)">
                                <span class="option-letter">D</span> Employers only hire people with specific hobbies
                            </button>
                        </div>
                        <div class="feedback" id="feedback-14"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-15">
                        <div class="question-meta">
                            <span>Q15</span>
                            <span class="skill-tag">Text Structure</span>
                        </div>
                        <p class="question-text">How is paragraph 3 related to paragraph 2 in the passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(15, 'A', this)">
                                <span class="option-letter">A</span> Paragraph 3 provides examples that illustrate the benefits mentioned in paragraph 2
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'B', this)">
                                <span class="option-letter">B</span> Paragraph 3 introduces a contrasting viewpoint about hobbies
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'C', this)">
                                <span class="option-letter">C</span> Paragraph 3 repeats the same information as paragraph 2
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'D', this)">
                                <span class="option-letter">D</span> Paragraph 3 introduces a completely unrelated topic
                            </button>
                        </div>
                        <div class="feedback" id="feedback-15"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-16">
                        <div class="question-meta">
                            <span>Q16</span>
                            <span class="skill-tag">Author's Purpose</span>
                        </div>
                        <p class="question-text">What is the writer's main purpose in writing this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(16, 'A', this)">
                                <span class="option-letter">A</span> To argue that hobbies are more important than work
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'B', this)">
                                <span class="option-letter">B</span> To present research showing hobbies provide mental health, creativity, and professional benefits
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'C', this)">
                                <span class="option-letter">C</span> To promote specific hobby-related products
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'D', this)">
                                <span class="option-letter">D</span> To criticize people who don't have hobbies
                            </button>
                        </div>
                        <div class="feedback" id="feedback-16"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 5 -->
                <div class="questions-section" data-passage="5">
                    <div class="question-box" id="qbox-17">
                        <div class="question-meta">
                            <span>Q17</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, what is one component of critical thinking?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(17, 'A', this)">
                                <span class="option-letter">A</span> Memorizing all facts on a topic
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'B', this)">
                                <span class="option-letter">B</span> Questioning assumptions and evaluating sources
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'C', this)">
                                <span class="option-letter">C</span> Accepting information from social media immediately
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'D', this)">
                                <span class="option-letter">D</span> Avoiding all opinions that differ from your own
                            </button>
                        </div>
                        <div class="feedback" id="feedback-17"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-18">
                        <div class="question-meta">
                            <span>Q18</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">Based on the passage, how might someone practice critical thinking when reading online news?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(18, 'A', this)">
                                <span class="option-letter">A</span> Share the article immediately if it matches their views
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'B', this)">
                                <span class="option-letter">B</span> Pause to consider the source, purpose, and what might be missing
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'C', this)">
                                <span class="option-letter">C</span> Only read headlines to save time
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'D', this)">
                                <span class="option-letter">D</span> Assume all online information is equally reliable
                            </button>
                        </div>
                        <div class="feedback" id="feedback-18"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-19">
                        <div class="question-meta">
                            <span>Q19</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the final paragraph, "cynical" most nearly means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(19, 'A', this)">
                                <span class="option-letter">A</span> trusting and optimistic about people
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'B', this)">
                                <span class="option-letter">B</span> believing that people are motivated by self-interest; distrustful
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'C', this)">
                                <span class="option-letter">C</span> easily confused by complex information
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'D', this)">
                                <span class="option-letter">D</span> always agreeing with others to avoid conflict
                            </button>
                        </div>
                        <div class="feedback" id="feedback-19"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-20">
                        <div class="question-meta">
                            <span>Q20</span>
                            <span class="skill-tag">Main Idea</span>
                        </div>
                        <p class="question-text">What is the central message of this passage about critical thinking?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(20, 'A', this)">
                                <span class="option-letter">A</span> Critical thinking means doubting everything and everyone
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'B', this)">
                                <span class="option-letter">B</span> Critical thinking is a learnable skill involving questioning, evaluating, and reasoning that empowers us in complex times
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'C', this)">
                                <span class="option-letter">C</span> Only experts can think critically; most people should just follow authorities
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'D', this)">
                                <span class="option-letter">D</span> Critical thinking is only important for academic subjects
                            </button>
                        </div>
                        <div class="feedback" id="feedback-20"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="navigation" id="navigation">
            <button class="nav-btn prev" onclick="prevSection()" id="prev-btn" disabled>‚Üê Previous</button>
            <span class="passage-indicator" id="passage-indicator">Passage 1 of 5</span>
            <button class="nav-btn next" onclick="nextSection()" id="next-btn">Next ‚Üí</button>
        </div>
        
        <!-- Results Screen -->
        <div class="results-screen" id="results-screen">
            <div class="results-header">
                <h2>Test Completed!</h2>
                <p>Here are your results for Reading Practice 04</p>
            </div>
            
            <div class="score-circle" id="final-score">0/20</div>
            
            <div class="results-meta">
                <div class="meta-item">
                    <div class="meta-label">Tester Name</div>
                    <div class="meta-value" id="result-name">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Date & Time</div>
                    <div class="meta-value" id="result-datetime">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Time Taken</div>
                    <div class="meta-value" id="result-duration">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Accuracy</div>
                    <div class="meta-value" id="result-accuracy">0%</div>
                </div>
            </div>
            
            <div class="skills-summary">
                <h3>Reading Skills Analysis</h3>
                <div id="skills-breakdown">
                    <!-- Skills breakdown will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div class="export-section">
                <h3>Share Your Results</h3>
                <div class="export-buttons">
                    <button class="export-btn btn-wechat" onclick="copyForWeChat()">
                        üí¨ Copy for WeChat
                    </button>
                    <button class="export-btn btn-email" onclick="emailResults()">
                        üìß Email Results
                    </button>
                    <button class="export-btn btn-lms" onclick="downloadForLMS()">
                        üì§ Download for LMS
                    </button>
                    <button class="export-btn btn-download" onclick="downloadPDF()">
                        üìÑ Save as PDF
                    </button>
                </div>
            </div>
            
            <button class="start-btn" onclick="restartTest()" style="margin-top: 20px;">
                üîÑ Take Another Practice Test
            </button>
        </div>
    </div>
    
    <div class="toast" id="toast">Results copied to clipboard!</div>
    
    <script>
        // Answer Key & Explanations with Skill Mapping
        const answers = {
            1: { correct: 'B', explanation: '‚úÖ Correct! The passage states: "If a task takes less than two minutes, do it immediately."<br><br>‚ùå A: Opposite of the 2-Minute Rule.<br>‚ùå C: Delegation isn\'t mentioned for small tasks.<br>‚ùå D: Combining tasks isn\'t the focus here.', skill: 'Detail Comprehension' },
            2: { correct: 'B', explanation: '‚úÖ Correct! The passage defines time blocking as: "Schedule specific blocks of time for different activities (study, work, breaks)."<br><br>‚ùå A: Website blocking is a different strategy.<br>‚ùå C: Breaks are part of time blocking but not the definition.<br>‚ùå D: Peak energy hours aren\'t mentioned.', skill: 'Detail Comprehension' },
            3: { correct: 'C', explanation: '‚úÖ Correct! The passage actually advises AGAINST multitasking: "Multitasking reduces efficiency... Single-tasking leads to higher quality work." So "Multitasking to save time" is NOT a recommended strategy.<br><br>‚ùå A, B, D: All explicitly listed as strategies.', skill: 'Detail Comprehension (NOT)' },
            4: { correct: 'B', explanation: '‚úÖ Correct! "Sustainable time management" refers to habits that can be "maintained long-term" through flexibility and weekly adjustment.<br><br>‚ùå A: Not about speed of starting.<br>‚ùå C: Cost isn\'t discussed.<br>‚ùå D: Strategies are for everyone, not just professionals.', skill: 'Vocabulary in Context' },
            5: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 1 states: "Everything felt unfamiliar‚Äîthe hallways, the lockers, the faces... hoping no one would notice how lost I felt."<br><br>‚ùå A: School size isn\'t the focus.<br>‚ùå C: Writer had their schedule.<br>‚ùå D: Maya was friendly from the start.', skill: 'Detail Comprehension' },
            6: { correct: 'B', explanation: '‚úÖ Correct! Maya proactively offered help ("You look like you could use a hand"), showed the writer around, and introduced them to friends‚Äîshowing confidence and desire to welcome others.<br><br>‚ùå A: Maya seemed comfortable, not nervous.<br>‚ùå C: No indication of ulterior motives.<br>‚ùå D: Maya was a student, not a teacher.', skill: 'Inference' },
            7: { correct: 'A', explanation: '‚úÖ Correct! Context: "For the first time that day, I felt my shoulders relax" after feeling welcomed and accepted‚Äîindicating reduced tension/anxiety.<br><br>‚ùå B: Not about sleepiness.<br>‚ùå C: Writer was engaging, not zoning out.<br>‚ùå D: Positive social interaction, not boredom.', skill: 'Vocabulary in Context' },
            8: { correct: 'B', explanation: '‚úÖ Correct! Final paragraph emphasizes: "I wasn\'t alone... The trick is finding your people." The narrative arc shows how supportive connections eased the transition.<br><br>‚ùå A: Contradicted by the positive outcome.<br>‚ùå C: Art was one connection point, not the main message.<br>‚ùå D: Orientation isn\'t discussed; focus is on peer support.', skill: 'Main Idea' },
            9: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 2 states: "Fixing a dripping faucet can save up to 3,000 gallons per year."<br><br>‚ùå A: Too small by factor of 10.<br>‚ùå C: Too large by factor of 10.<br>‚ùå D: Too large by factor of 100.', skill: 'Detail Comprehension' },
            10: { correct: 'C', explanation: '‚úÖ Correct! Sentence: "Watering gardens early morning or late evening reduces evaporation." ‚Äî "this" refers to the action just mentioned: watering at cooler times.<br><br>‚ùå A: Native plants are a separate tip.<br>‚ùå B: Rainwater collection is separate.<br>‚ùå D: Tap water isn\'t the subject of "this."', skill: 'Reference' },
            11: { correct: 'C', explanation: '‚úÖ Correct! Paragraph 3 states outdoor methods include: "Choosing native, drought-resistant plants requires less irrigation."<br><br>‚ùå A, B, D: All mentioned as INDOOR water conservation methods.', skill: 'Detail Comprehension' },
            12: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 4 begins: "Community efforts amplify individual actions" ‚Äî meaning they make the impact larger/more effective.<br><br>‚ùå A: Individual actions still matter.<br>‚ùå C: Cost isn\'t the focus.<br>‚ùå D: Community efforts work at all scales.', skill: 'Inference' },
            13: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 2 states hobbies reduce stress by "activating the brain\'s relaxation response."<br><br>‚ùå A: Opposite; cortisol is a stress hormone.<br>‚ùå C: Hobbies provide break from work, not more work.<br>‚ùå D: Hobbies complement responsibilities, don\'t eliminate them.', skill: 'Detail Comprehension' },
            14: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 3 states: "The skills practiced in leisure‚Äîpatience, experimentation, resilience‚Äîtransfer to work and relationships."<br><br>‚ùå A: Too extreme; no guarantees mentioned.<br>‚ùå C: Hobbies supplement, don\'t replace experience.<br>‚ùå D: No hiring preferences discussed.', skill: 'Detail Comprehension' },
            15: { correct: 'A', explanation: '‚úÖ Correct! Paragraph 2 lists general benefits of hobbies (stress reduction, flow); paragraph 3 provides specific examples of how hobby skills transfer to professional contexts (programmer/knitter, teacher/hiker).<br><br>‚ùå B: No contrast; paragraph 3 builds on paragraph 2.<br>‚ùå C: New content about skill transfer.<br>‚ùå D: Directly related as elaboration.', skill: 'Text Structure' },
            16: { correct: 'B', explanation: '‚úÖ Correct! Passage presents research on hobbies\' benefits for mental health, creativity, and professional success, concluding they\'re "essential ingredients" for a meaningful life.<br><br>‚ùå A: Passage advocates balance, not replacement of work.<br>‚ùå C: No products promoted.<br>‚ùå D: Tone is encouraging, not critical.', skill: 'Author\'s Purpose' },
            17: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 2 lists key components: "Questioning assumptions... Evaluating sources... Recognizing logical fallacies."<br><br>‚ùå A: Critical thinking is contrasted with memorization.<br>‚ùå C: Passage advises pausing before accepting online info.<br>‚ùå D: Seeking diverse perspectives is recommended.', skill: 'Detail Comprehension' },
            18: { correct: 'B', explanation: '‚úÖ Correct! Paragraph 3 suggests: "pause before accepting information... Ask: Who created this? What\'s their purpose? What\'s missing?"<br><br>‚ùå A: Opposite of critical evaluation.<br>‚ùå C: Headlines lack context needed for critical thinking.<br>‚ùå D: Passage emphasizes evaluating source credibility.', skill: 'Inference' },
            19: { correct: 'B', explanation: '‚úÖ Correct! Context: "critical thinking isn\'t about being negative or cynical. It\'s about being curious, open-minded..." ‚Äî contrasting cynical (distrustful) with constructive questioning.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Not about confusion.<br>‚ùå D: Critical thinking involves engaging with differing views, not avoiding them.', skill: 'Vocabulary in Context' },
            20: { correct: 'B', explanation: '‚úÖ Correct! Passage defines critical thinking as a learnable skill involving questioning, evaluating sources, and reasoning, concluding it "empowers us to navigate uncertainty with clarity and confidence."<br><br>‚ùå A: Directly contradicted; critical thinking isn\'t cynicism.<br>‚ùå C: Passage states it\'s a skill anyone can develop.<br>‚ùå D: Passage emphasizes real-world application beyond academics.', skill: 'Main Idea' }
        };

        const questionToPassage = { 1:1, 2:1, 3:1, 4:1, 5:2, 6:2, 7:2, 8:2, 9:3, 10:3, 11:3, 12:3, 13:4, 14:4, 15:4, 16:4, 17:5, 18:5, 19:5, 20:5 };

        let currentSection = 1, score = 0, answered = {}, timerSeconds = 0, timerInterval, testerName = '', testStartTime, testEndTime;

        const startScreen = document.getElementById('start-screen'), testLayout = document.getElementById('test-layout'), resultsScreen = document.getElementById('results-screen'), nameInput = document.getElementById('tester-name'), nameError = document.getElementById('name-error'), startBtn = document.getElementById('start-btn'), timerDisplay = document.getElementById('timer'), scoreDisplay = document.getElementById('score-display'), passageIndicator = document.getElementById('passage-indicator'), toast = document.getElementById('toast');

        document.addEventListener('DOMContentLoaded', () => { startBtn.addEventListener('click', startTest); nameInput.addEventListener('input', validateName); });

        function validateName() {
            const name = nameInput.value.trim();
            const hasChinese = /[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u.test(name);
            if (hasChinese) { nameError.classList.add('show'); startBtn.disabled = true; } else { nameError.classList.remove('show'); startBtn.disabled = name === ''; }
        }

        function startTest() {
            testerName = nameInput.value.trim() || 'Anonymous';
            testStartTime = new Date();
            startScreen.style.display = 'none';
            testLayout.classList.add('active');
            document.querySelector(`[data-passage="1"]`).classList.add('active');
            document.querySelector(`.questions-section[data-passage="1"]`).classList.add('active');
            startTimer();
            updateHeader();
        }

        function startTimer() { timerInterval = setInterval(() => { timerSeconds++; const mins = Math.floor(timerSeconds / 60).toString().padStart(2, '0'); const secs = (timerSeconds % 60).toString().padStart(2, '0'); timerDisplay.textContent = `${mins}:${secs}`; }, 1000); }

        function checkAnswer(questionNum, selected, btn) {
            if (answered[questionNum]) return;
            answered[questionNum] = selected;
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const allBtns = btn.parentElement.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.disabled = true);
            if (selected === answers[questionNum].correct) { score++; btn.classList.add('correct'); feedback.classList.add('correct'); feedback.innerHTML = `<div class="feedback-title">‚úÖ Correct!</div>${answers[questionNum].explanation}`; } else { btn.classList.add('incorrect'); feedback.classList.add('incorrect'); feedback.innerHTML = `<div class="feedback-title">‚ùå Incorrect</div>${answers[questionNum].explanation}`; allBtns.forEach(b => { if (b.textContent.trim().startsWith(answers[questionNum].correct + '.')) { b.classList.add('correct'); } }); }
            feedback.style.display = 'block';
            updateScoreDisplay();
            checkPassageComplete();
        }

        function checkPassageComplete() {
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) { if (questionToPassage[q] === currentSection) { currentPassageQuestions.push(q); } }
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (allAnswered && currentSection < 5) { document.getElementById('next-btn').textContent = 'Next Passage ‚Üí'; }
        }

        function nextSection() {
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) { if (questionToPassage[q] === currentSection) { currentPassageQuestions.push(q); } }
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (!allAnswered) { alert(`Please answer all ${currentPassageQuestions.length} questions in this passage before continuing.`); return; }
            if (Object.keys(answered).length === 20) { showResults(); return; }
            if (currentSection < 5) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection++;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('prev-btn').disabled = false;
                document.querySelector('.questions-column').scrollTop = 0;
                document.querySelector('.passage-column').scrollTop = 0;
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection--;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('next-btn').textContent = 'Next ‚Üí';
                if (currentSection === 1) { document.getElementById('prev-btn').disabled = true; }
                document.querySelector('.questions-column').scrollTop = 0;
                document.querySelector('.passage-column').scrollTop = 0;
            }
        }

        function updateHeader() { passageIndicator.textContent = `Passage ${currentSection} of 5`; updateScoreDisplay(); }
        function updateScoreDisplay() { scoreDisplay.textContent = `${score}/${Object.keys(answered).length}`; }

        function showResults() {
            testEndTime = new Date();
            clearInterval(timerInterval);
            testLayout.classList.remove('active');
            document.getElementById('navigation').style.display = 'none';
            resultsScreen.classList.add('active');
            document.getElementById('result-name').textContent = testerName;
            document.getElementById('result-datetime').textContent = testEndTime.toLocaleString();
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            document.getElementById('result-duration').textContent = `${durationMins}m ${durationSecs.toString().padStart(2, '0')}s`;
            document.getElementById('final-score').textContent = `${score}/20`;
            document.getElementById('result-accuracy').textContent = `${Math.round((score / 20) * 100)}%`;
            generateSkillsBreakdown();
        }

        function generateSkillsBreakdown() {
            const skillsBreakdown = document.getElementById('skills-breakdown');
            skillsBreakdown.innerHTML = '';
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) { skillGroups[skill] = { total: 0, correct: 0, questions: [] }; }
                skillGroups[skill].total++;
                if (answered[q] === answers[q].correct) { skillGroups[skill].correct++; } else { skillGroups[skill].questions.push(q); }
            }
            Object.entries(skillGroups).forEach(([skill, data]) => {
                const isMastered = data.correct === data.total;
                const skillItem = document.createElement('div');
                skillItem.className = `skill-item ${isMastered ? 'mastered' : 'missed'}`;
                let missedInfo = '';
                if (!isMastered && data.questions.length > 0) { missedInfo = `<br><small style="color: #b71c1c">Missed: Q${data.questions.join(', Q')}</small>`; }
                skillItem.innerHTML = `<div><strong>${skill}</strong><div style="font-size: 0.9rem; color: #616161">${data.correct}/${data.total} correct</div>${missedInfo}</div><div style="font-weight: bold; color: ${isMastered ? '#2e7d32' : '#c62828'}">${isMastered ? '‚úì Mastered' : '‚ö† Review'}</div>`;
                skillsBreakdown.appendChild(skillItem);
            });
        }

        function copyForWeChat() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            let text = `üìö Reading Practice 04 Results\n\nüë§ Name: ${testerName}\nüìÖ Date: ${testEndTime.toLocaleDateString()}\n‚è±Ô∏è Time: ${durationMins}m ${durationSecs}s\n‚úÖ Score: ${score}/20 (${accuracy}%)\n\nüìä Skills Review:\n`;
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 }; skillGroups[skill].total++; if (answered[q] === answers[q].correct) skillGroups[skill].correct++; }
            Object.entries(skillGroups).forEach(([skill, data]) => { const status = data.correct === data.total ? '‚úì' : '‚ö†'; text += `${status} ${skill}: ${data.correct}/${data.total}\n`; });
            text += `\nüí° Focus on skills marked with ‚ö† for improvement.`;
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            try { document.execCommand('copy'); showToast('Results copied! Paste in WeChat to share.'); } catch (err) { alert('Please manually copy these results:\n\n' + text); }
            document.body.removeChild(textArea);
        }

        function emailResults() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            let emailBody = `Reading Practice 04 Results\n\nStudent: ${testerName}\nDate Completed: ${testEndTime.toLocaleString()}\nTime Taken: ${durationMins} minutes, ${durationSecs} seconds\nScore: ${score} out of 20 questions (${accuracy}% accuracy)\n\nDetailed Results:\n----------------\n`;
            for (let q = 1; q <= 20; q++) { const isCorrect = answered[q] === answers[q].correct; emailBody += `Q${q} [${answers[q].skill}]: ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}\n`; }
            emailBody += `\nSkills Analysis:\n`;
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 }; skillGroups[skill].total++; if (answered[q] === answers[q].correct) skillGroups[skill].correct++; }
            Object.entries(skillGroups).forEach(([skill, data]) => { emailBody += `- ${skill}: ${data.correct}/${data.total} correct\n`; });
            const subject = encodeURIComponent(`Reading Practice 04 Results - ${testerName}`);
            const body = encodeURIComponent(emailBody);
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function downloadForLMS() {
            const resultsData = { testName: "Reading Practice 04", studentName: testerName, completedAt: testEndTime.toISOString(), durationSeconds: timerSeconds, totalQuestions: 20, correctAnswers: score, accuracyPercent: Math.round((score / 20) * 100), questionResults: [], skillsAnalysis: {} };
            for (let q = 1; q <= 20; q++) { resultsData.questionResults.push({ questionNumber: q, skill: answers[q].skill, selectedAnswer: answered[q], correctAnswer: answers[q].correct, isCorrect: answered[q] === answers[q].correct }); }
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) { skillGroups[skill] = { totalQuestions: 0, correctAnswers: 0, missedQuestions: [] }; } skillGroups[skill].totalQuestions++; if (answered[q] === answers[q].correct) { skillGroups[skill].correctAnswers++; } else { skillGroups[skill].missedQuestions.push(q); } }
            resultsData.skillsAnalysis = skillGroups;
            const dataStr = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(resultsData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", `reading_practice_04_${testerName.replace(/\s+/g, '_')}_${new Date().toISOString().slice(0,10)}.json`);
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            showToast('Results downloaded for LMS upload!');
        }

        function downloadPDF() { alert(`PDF generation requires additional libraries. For this demo:\n\n1. Copy your results using the "Copy for WeChat" button\n2. Paste into a document\n3. Save as PDF using your browser's print function (Ctrl+P ‚Üí Save as PDF)\n\nIn a production version, this would generate a professional PDF report automatically.`); }
        function showToast(message) { toast.textContent = message; toast.style.display = 'block'; setTimeout(() => { toast.style.display = 'none'; }, 3000); }

        function restartTest() {
            currentSection = 1; score = 0; answered = {}; timerSeconds = 0; testerName = '';
            nameInput.value = ''; nameError.classList.remove('show'); startBtn.disabled = true;
            document.getElementById('next-btn').textContent = 'Next ‚Üí'; document.getElementById('prev-btn').disabled = true;
            document.getElementById('passage-indicator').textContent = 'Passage 1 of 5';
            document.querySelectorAll('.feedback').forEach(fb => { fb.style.display = 'none'; fb.classList.remove('correct', 'incorrect'); });
            document.querySelectorAll('.option-btn').forEach(btn => { btn.classList.remove('correct', 'incorrect'); btn.disabled = false; });
            resultsScreen.classList.remove('active'); startScreen.style.display = 'block';
            timerDisplay.textContent = '00:00'; scoreDisplay.textContent = '0/0';
            clearInterval(timerInterval);
        }
    </script>
</body>
</html>