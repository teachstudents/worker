<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Quest!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Arial', 'Comic Sans MS', sans-serif; 
            touch-action: manipulation; 
            background-color: #f0f9ff; 
            overflow-x: hidden;
        }
        .screen { display: none; min-height: 100vh; width: 100vw; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .screen.active { display: flex; }

        /* 3D Light Grey Buttons */
        .btn-unit { 
            transition: all 0.1s ease;
            background-color: #f3f4f6;
            color: #374151;
            box-shadow: 0 8px 0 #9ca3af;
            border: 2px solid #d1d5db;
        }
        .btn-unit:hover { transform: translateY(-2px); box-shadow: 0 10px 0 #9ca3af; background-color: #f9fafb; }
        .btn-unit:active { transform: translateY(6px); box-shadow: 0 2px 0 #9ca3af; }

        .btn-option {
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 #475569;
        }
        .btn-option:active { transform: translateY(2px); box-shadow: 0 0 0 #475569; }

        /* Badge Styling */
        .badge-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        .badge-icon.unlocked {
            border-color: #fbbf24;
            background: #fffbeb;
            animation: bounce 2s infinite;
        }
        .badge-icon.locked {
            filter: grayscale(1);
            opacity: 0.3;
        }

        /* Animations */
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        @keyframes pop { 0% { transform: scale(0.9); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .pop-in { animation: pop 0.4s ease-out forwards; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }
        .shake { animation: shake 0.3s ease-in-out 2; }

        .correct-bg { background-color: #dcfce7 !important; border-color: #22c55e !important; }
        .incorrect-bg { background-color: #fee2e2 !important; border-color: #ef4444 !important; }

        #glitter-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 100;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #6366f1; border-radius: 10px; }
    </style>
</head>
<body>

    <canvas id="glitter-canvas"></canvas>

    <!-- Main Menu Screen -->
    <div id="menu-screen" class="screen active overflow-y-auto pt-24 pb-12">
        <header class="fixed top-0 left-0 w-full p-4 flex justify-between items-center bg-white/90 backdrop-blur shadow-md z-50">
            <div class="flex items-center gap-3">
                <span class="text-indigo-600 font-black text-2xl hidden sm:inline">Quest Log üìú</span>
                <div id="badge-summary" class="flex gap-1"></div>
            </div>
            <span class="bg-indigo-600 text-white px-6 py-2 rounded-full font-black text-xl shadow-lg">Total Score: <span id="global-score-display">0</span></span>
        </header>
        
        <h1 class="text-6xl font-black text-indigo-700 mb-2 drop-shadow-lg text-center mt-12">Grammar Quest! üè∞</h1>
        <p class="text-slate-500 font-bold mb-8 text-center px-4">Collect all 16 badges in your collection!</p>

        <!-- 5 Column Grid -->
        <div id="unit-grid" class="grid grid-cols-3 sm:grid-cols-5 gap-6 max-w-6xl p-6">
            <!-- Buttons generated by JS -->
        </div>

        <div class="mt-12 bg-white rounded-3xl p-8 shadow-xl max-w-4xl w-full border-4 border-indigo-100 mx-4">
            <h2 class="text-3xl font-black text-indigo-800 mb-6 text-center">Your Badge Collection üèÜ</h2>
            <div id="badge-collection-grid" class="grid grid-cols-4 sm:grid-cols-8 gap-4 justify-items-center">
                <!-- Badges appear here -->
            </div>
        </div>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="screen bg-sky-50">
        <div class="w-full max-w-4xl bg-white rounded-[3rem] shadow-2xl p-8 border-8 border-indigo-100 flex flex-col items-center pop-in relative">
            <header class="w-full flex justify-between items-center mb-6 border-b-2 border-indigo-50 pb-4">
                <div class="flex flex-col">
                    <span id="quiz-unit-title" class="text-2xl font-black text-indigo-600"></span>
                    <span class="text-sm font-bold text-slate-400">Mastery: 15/20 for Badge</span>
                </div>
                <span id="question-counter" class="text-xl font-bold text-slate-400 bg-slate-100 px-4 py-1 rounded-full"></span>
            </header>

            <div id="question-text" class="text-3xl md:text-4xl font-black text-slate-800 text-center mb-8 leading-relaxed px-4 min-h-[120px] flex items-center">
                <!-- Question text -->
            </div>

            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full">
                <!-- Option buttons -->
            </div>

            <div id="feedback-area" class="h-16 mt-6 flex items-center justify-center text-3xl font-black transition-all">
                <!-- Correct/Incorrect message -->
            </div>
            
            <button onclick="backToMenu()" class="mt-4 text-indigo-600 font-bold hover:underline flex items-center gap-2">
                ‚¨Ö Quit to Menu
            </button>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen bg-indigo-600 text-white">
        <div class="text-center pop-in p-6">
            <h2 id="results-header" class="text-7xl font-black mb-4">Unit Clear! ‚öîÔ∏è</h2>
            <div id="badge-celebration" class="hidden flex flex-col items-center mb-6 animate-bounce">
                <div class="w-32 h-32 bg-yellow-400 rounded-full flex items-center justify-center text-6xl shadow-2xl border-4 border-white mb-2">
                    <span id="earned-badge-icon"></span>
                </div>
                <p class="text-2xl font-black text-yellow-300">NEW BADGE EARNED!</p>
            </div>
            <p class="text-3xl font-bold mb-8 opacity-90">Unit: <span id="res-unit"></span></p>
            <div class="text-9xl font-black mb-8 bg-white text-indigo-600 p-8 rounded-full inline-block shadow-2xl border-8 border-indigo-200">
                <span id="res-score"></span>
            </div>
            <p class="text-2xl font-bold mb-10" id="results-feedback"></p>
            <button onclick="backToMenu()" class="bg-yellow-400 text-indigo-900 font-black py-5 px-16 rounded-full text-3xl shadow-xl hover:bg-yellow-300 transform hover:scale-110 transition-all">
                CONTINUE
            </button>
        </div>
    </div>

    <script>
        const unitConfigs = {
            "Starter": { emoji: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶", badge: "üè†" },
            "Unit 1": { emoji: "üåç", badge: "üõÇ" },
            "Unit 2": { emoji: "üõπ", badge: "üö≤" },
            "Unit 3": { emoji: "üéÆ", badge: "üñ±Ô∏è" },
            "Unit 4": { emoji: "üèñÔ∏è", badge: "üêö" },
            "Unit 5": { emoji: "üêí", badge: "üçå" },
            "Unit 6": { emoji: "ü•û", badge: "ü•£" },
            "Unit 7": { emoji: "üçø", badge: "üéüÔ∏è" },
            "Unit 8": { emoji: "üçà", badge: "ü•ó" },
            "Unit 9": { emoji: "üêÜ", badge: "üåã" },
            "Unit 10": { emoji: "üå≥", badge: "‚õ≤" },
            "Unit 11": { emoji: "üèõÔ∏è", badge: "üöå" },
            "Unit 12": { emoji: "üçº", badge: "üë∂" },
            "Unit 13": { emoji: "üè∫", badge: "üìú" },
            "Unit 14": { emoji: "üéí", badge: "üìè" },
            "Unit 15": { emoji: "‚úàÔ∏è", badge: "üß¥" }
        };

        const grammarData = {
          "Starter": [
            { q: "The red car is _____ than the blue car.", options: ["bigger", "biggest", "big"], answer: "bigger" },
            { q: "Yesterday it _____ sunny.", options: ["was", "were", "is"], answer: "was" },
            { q: "We _____ got two cousins.", options: ["has", "have", "are"], answer: "have" },
            { q: "My sister is _____ than me.", options: ["younger", "youngest", "young"], answer: "younger" },
            { q: "They _____ at school on Monday.", options: ["was", "were", "is"], answer: "were" },
            { q: "He _____ a new skateboard.", options: ["has", "have", "is"], answer: "has" },
            { q: "This bike is _____ than that one.", options: ["fastest", "faster", "fast"], answer: "faster" },
            { q: "The children _____ happy yesterday.", options: ["was", "were", "are"], answer: "were" },
            { q: "I _____ a sister named Holly.", options: ["has", "have", "am"], answer: "have" },
            { q: "Summer is _____ than winter.", options: ["hottest", "hotter", "hot"], answer: "hotter" },
            { q: "It _____ cold last week.", options: ["is", "was", "were"], answer: "was" },
            { q: "Max and Leo _____ two cousins.", options: ["has", "have", "are"], answer: "have" },
            { q: "A lion is _____ than a cat.", options: ["strongest", "stronger", "strong"], answer: "stronger" },
            { q: "The weather _____ rainy on Sunday.", options: ["was", "were", "be"], answer: "was" },
            { q: "You _____ a lot of stickers.", options: ["has", "have", "is"], answer: "have" },
            { q: "My grandpa is _____ than my dad.", options: ["oldest", "older", "old"], answer: "older" },
            { q: "The monkeys _____ naughty.", options: ["was", "were", "is"], answer: "were" },
            { q: "She _____ got a red bag.", options: ["has", "have", "are"], answer: "has" },
            { q: "An elephant is _____ than a zebra.", options: ["bigger", "biggest", "big"], answer: "bigger" },
            { q: "We _____ at the park yesterday.", options: ["was", "were", "are"], answer: "were" }
          ],
          "Unit 1": [
            { q: "_____ are you from?", options: ["What", "Where", "When"], answer: "Where" },
            { q: "I _____ from Brazil.", options: ["'s", "'re", "'m"], answer: "'m" },
            { q: "_____ is from Spain.", options: ["He", "They", "We"], answer: "He" },
            { q: "Where _____ he from?", options: ["am", "is", "are"], answer: "is" },
            { q: "They _____ from Australia.", options: ["'s", "'m", "'re"], answer: "'re" },
            { q: "_____ is from South Korea.", options: ["She", "They", "We"], answer: "She" },
            { q: "Where _____ they from?", options: ["am", "is", "are"], answer: "are" },
            { q: "We _____ from the USA.", options: ["'s", "'re", "'m"], answer: "'re" },
            { q: "_____ am from Vietnam.", options: ["He", "She", "I"], answer: "I" },
            { q: "Is he from Mexico? Yes, he _____.", options: ["is", "am", "are"], answer: "is" },
            { q: "Are you from Poland? No, I _____.", options: ["'s not", "'m not", "aren't"], answer: "'m not" },
            { q: "_____ is from Thailand.", options: ["He", "They", "We"], answer: "He" },
            { q: "Where _____ she from?", options: ["am", "is", "are"], answer: "is" },
            { q: "Ji-Young _____ from Korea.", options: ["am", "is", "are"], answer: "is" },
            { q: "Carlos _____ from Brazil.", options: ["'s", "'m", "'re"], answer: "'s" },
            { q: "Are they from Spain? No, they _____.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "_____ are from the UK.", options: ["I", "He", "We"], answer: "We" },
            { q: "_____ is from Egypt.", options: ["She", "They", "You"], answer: "She" },
            { q: "Is she from Russia? Yes, she _____.", options: ["is", "am", "are"], answer: "is" },
            { q: "_____ you from Mexico?", options: ["Am", "Is", "Are"], answer: "Are" }
          ],
          "Unit 2": [
            { q: "I like _____ chess.", options: ["play", "playing", "plays"], answer: "playing" },
            { q: "He _____ like fishing.", options: ["don't", "doesn't", "isn't"], answer: "doesn't" },
            { q: "_____ you like skateboarding?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "She likes _____ photos.", options: ["take", "taking", "takes"], answer: "taking" },
            { q: "They _____ like playing basketball.", options: ["don't", "doesn't", "isn't"], answer: "don't" },
            { q: "_____ he like cooking?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "We like _____ family.", options: ["visit", "visiting", "visits"], answer: "visiting" },
            { q: "I _____ like shopping.", options: ["don't", "doesn't", "am not"], answer: "don't" },
            { q: "_____ they like doing gymnastics?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "He likes _____ the guitar.", options: ["play", "playing", "plays"], answer: "playing" },
            { q: "Does she like painting? Yes, she _____.", options: ["do", "does", "is"], answer: "does" },
            { q: "Do you like fishing? No, I _____.", options: ["don't", "doesn't", "not"], answer: "don't" },
            { q: "Max likes _____ comics.", options: ["read", "reading", "reads"], answer: "reading" },
            { q: "My brother _____ like playing piano.", options: ["don't", "doesn't", "isn't"], answer: "doesn't" },
            { q: "_____ you like volleyball?", options: ["Do", "Does", "Is"], answer: "Do" },
            { q: "She loves _____ to music.", options: ["listen", "listening", "listens"], answer: "listening" },
            { q: "We _____ like playing chess.", options: ["don't", "doesn't", "not"], answer: "don't" },
            { q: "_____ Holly like skating?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "I like _____ in the garden.", options: ["work", "working", "works"], answer: "working" },
            { q: "Do they like cooking? Yes, they _____.", options: ["do", "does", "are"], answer: "do" }
          ],
          "Unit 3": [
            { q: "This is _____ CD.", options: ["we", "our", "us"], answer: "our" },
            { q: "_____ I use your computer?", options: ["Am", "Do", "Can"], answer: "Can" },
            { q: "Can you turn _____ the TV, please?", options: ["out", "off", "up"], answer: "off" },
            { q: "That is _____ camera.", options: ["they", "their", "them"], answer: "their" },
            { q: "_____ you help me, please?", options: ["Can", "Am", "Are"], answer: "Can" },
            { q: "Please turn _____ the light.", options: ["on", "off", "at"], answer: "on" },
            { q: "These are _____ stickers.", options: ["you", "your", "yours"], answer: "your" },
            { q: "_____ we have some water?", options: ["Can", "Do", "Are"], answer: "Can" },
            { q: "Turn _____ the computer now.", options: ["off", "on", "out"], answer: "off" },
            { q: "Is this _____ poster?", options: ["our", "we", "us"], answer: "our" },
            { q: "_____ I see your collection?", options: ["Can", "Am", "Do"], answer: "Can" },
            { q: "Can you turn _____ the music?", options: ["up", "on", "off"], answer: "on" },
            { q: "Where is _____ MP3 player?", options: ["my", "I", "me"], answer: "my" },
            { q: "_____ she use the DVD player?", options: ["Can", "Do", "Is"], answer: "Can" },
            { q: "Don't forget to turn _____ the CD player.", options: ["off", "on", "out"], answer: "off" },
            { q: "This is _____ school project.", options: ["their", "they", "them"], answer: "their" },
            { q: "_____ I borrow your pen?", options: ["Can", "Do", "Am"], answer: "Can" },
            { q: "Can you turn _____ the fan?", options: ["on", "at", "in"], answer: "on" },
            { q: "Look at _____ new pins!", options: ["our", "we", "us"], answer: "our" },
            { q: "_____ they turn off the TV?", options: ["Can", "Do", "Are"], answer: "Can" }
          ],
          "Unit 4": [
            { q: "We're _____.", options: ["sailing", "sail", "sails"], answer: "sailing" },
            { q: "She _____ snorkeling.", options: ["aren't", "am not", "isn't"], answer: "isn't" },
            { q: "They _____ waterskiing.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "I'm _____ in the sea.", options: ["swimming", "swim", "swims"], answer: "swimming" },
            { q: "He _____ windsurfing.", options: ["aren't", "isn't", "not"], answer: "isn't" },
            { q: "We _____ kayaking.", options: ["aren't", "isn't", "am not"], answer: "aren't" },
            { q: "She's _____ a boat.", options: ["sailing", "sail", "sails"], answer: "sailing" },
            { q: "They _____ diving.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "I _____ surfing.", options: ["'m not", "isn't", "aren't"], answer: "'m not" },
            { q: "He's _____ under the water.", options: ["diving", "dive", "dives"], answer: "diving" },
            { q: "We _____ snorkeling.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "She _____ waterskiing.", options: ["'m not", "isn't", "aren't"], answer: "isn't" },
            { q: "They're _____ on the beach.", options: ["playing", "play", "plays"], answer: "playing" },
            { q: "I _____ sailing today.", options: ["'m not", "isn't", "aren't"], answer: "'m not" },
            { q: "He's _____ a wave.", options: ["surfing", "surf", "surfs"], answer: "surfing" },
            { q: "We _____ windsurfing.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "She _____ swimming fast.", options: ["is", "am", "are"], answer: "is" },
            { q: "They _____ kayaking now.", options: ["is", "am", "are"], answer: "are" },
            { q: "I'm _____ a sandwich.", options: ["eating", "eat", "eats"], answer: "eating" },
            { q: "He _____ diving today.", options: ["'m not", "isn't", "aren't"], answer: "isn't" }
          ],
          "Unit 5": [
            { q: "_____ the monkey eating?", options: ["Are", "Is", "Am"], answer: "Is" },
            { q: "Are they swimming? Yes, they _____.", options: ["are", "do", "is"], answer: "are" },
            { q: "Are you reading? No, I _____.", options: ["isn't", "'m not", "aren't"], answer: "'m not" },
            { q: "_____ the tiger sleeping?", options: ["Are", "Is", "Am"], answer: "Is" },
            { q: "Is she watching? Yes, she _____.", options: ["is", "does", "am"], answer: "is" },
            { q: "_____ they running?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "Are the lions eating? No, they _____.", options: ["isn't", "aren't", "not"], answer: "aren't" },
            { q: "Is the penguin swimming? Yes, it _____.", options: ["is", "are", "does"], answer: "is" },
            { q: "_____ you playing?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "Is he climbing? No, he _____.", options: ["isn't", "aren't", "'m not"], answer: "isn't" },
            { q: "_____ the parrots flying?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "Are you listening? Yes, I _____.", options: ["is", "are", "am"], answer: "am" },
            { q: "_____ she taking a photo?", options: ["Are", "Is", "Am"], answer: "Is" },
            { q: "Is the zebra running? No, it _____.", options: ["isn't", "aren't", "not"], answer: "isn't" },
            { q: "_____ they making a noise?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "Are we going? Yes, we _____.", options: ["are", "is", "do"], answer: "are" },
            { q: "_____ the cat jumping?", options: ["Are", "Is", "Am"], answer: "Is" },
            { q: "Are you eating? No, I _____.", options: ["isn't", "'m not", "aren't"], answer: "'m not" },
            { q: "_____ the kangaroos jumping?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "Is he laughing? Yes, he _____.", options: ["is", "does", "am"], answer: "is" }
          ],
          "Unit 6": [
            { q: "He _____ up early.", options: ["get", "getting", "gets"], answer: "gets" },
            { q: "They don't _____ the train.", options: ["catches", "catch", "catching"], answer: "catch" },
            { q: "_____ she live in a big house?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "I _____ breakfast at eight.", options: ["have", "has", "having"], answer: "have" },
            { q: "She doesn't _____ to school.", options: ["walks", "walk", "walking"], answer: "walk" },
            { q: "_____ they catch the bus?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "He _____ his teeth every day.", options: ["brush", "brushes", "brushing"], answer: "brushes" },
            { q: "We don't _____ a shower at night.", options: ["has", "have", "having"], answer: "have" },
            { q: "_____ Max get up at seven?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "They _____ cereal for breakfast.", options: ["eat", "eats", "eating"], answer: "eat" },
            { q: "He doesn't _____ his hair.", options: ["comb", "combs", "combing"], answer: "comb" },
            { q: "_____ you have lunch at school?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "She _____ dressed quickly.", options: ["get", "gets", "getting"], answer: "gets" },
            { q: "We _____ to school every morning.", options: ["walk", "walks", "walking"], answer: "walk" },
            { q: "_____ Jim look after sheep?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "They _____ in Australia.", options: ["live", "lives", "living"], answer: "live" },
            { q: "He doesn't _____ a horse.", options: ["ride", "rides", "riding"], answer: "ride" },
            { q: "_____ you get up late?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "She _____ a shower at seven.", options: ["has", "have", "is"], answer: "has" },
            { q: "We don't _____ the bus.", options: ["catches", "catch", "catching"], answer: "catch" }
          ],
          "Unit 7": [
            { q: "We _____ go to the sports center.", options: ["always", "always are", "are always"], answer: "always" },
            { q: "My birthday is _____ May.", options: ["on", "at", "in"], answer: "in" },
            { q: "He plays football _____ Fridays.", options: ["in", "on", "at"], answer: "on" },
            { q: "I _____ go to the cinema.", options: ["sometimes", "sometimes am", "am sometimes"], answer: "sometimes" },
            { q: "We have lunch _____ one o'clock.", options: ["in", "on", "at"], answer: "at" },
            { q: "She _____ goes to the mall.", options: ["never", "never is", "is never"], answer: "never" },
            { q: "They go to the pool _____ summer.", options: ["in", "on", "at"], answer: "in" },
            { q: "_____ you ever go to a concert?", options: ["Do", "Does", "Are"], answer: "Do" },
            { q: "The film starts _____ 6:30.", options: ["at", "on", "in"], answer: "at" },
            { q: "He _____ plays basketball.", options: ["always", "is always", "always is"], answer: "always" },
            { q: "I go to the library _____ Saturdays.", options: ["in", "on", "at"], answer: "on" },
            { q: "We _____ go to the playground.", options: ["usually", "usually are", "are usually"], answer: "usually" },
            { q: "My sister's birthday is _____ June.", options: ["at", "on", "in"], answer: "in" },
            { q: "They never _____ late.", options: ["are", "is", "am"], answer: "are" },
            { q: "School starts _____ September.", options: ["on", "at", "in"], answer: "in" },
            { q: "I have breakfast _____ 7:15.", options: ["on", "in", "at"], answer: "at" },
            { q: "_____ Max often go to the cafe?", options: ["Do", "Does", "Is"], answer: "Does" },
            { q: "We _____ watch TV at night.", options: ["always", "are always", "always are"], answer: "always" },
            { q: "He goes to the museum _____ the weekend.", options: ["on", "in", "at"], answer: "on" },
            { q: "I am _____ happy at the pool.", options: ["always", "often", "never"], answer: "always" }
          ],
          "Unit 8": [
            { q: "I'd like _____ melon.", options: ["some", "a", "an"], answer: "a" },
            { q: "We need _____ apples.", options: ["a", "an", "some"], answer: "some" },
            { q: "_____ you like some cereal?", options: ["Do", "Would", "Can"], answer: "Would" },
            { q: "She'd like _____ onion.", options: ["a", "an", "some"], answer: "an" },
            { q: "We have _____ bread.", options: ["a", "an", "some"], answer: "some" },
            { q: "_____ they like a lemon?", options: ["Do", "Would", "Are"], answer: "Would" },
            { q: "I'd like _____ noodles.", options: ["a", "some", "an"], answer: "some" },
            { q: "Do we have _____ meat?", options: ["a", "some", "an"], answer: "some" },
            { q: "_____ you like an apple?", options: ["Would", "Do", "Can"], answer: "Would" },
            { q: "There is _____ cereal.", options: ["a", "an", "some"], answer: "some" },
            { q: "I'd like _____ cucumber.", options: ["a", "an", "some"], answer: "a" },
            { q: "We'd like _____ melons.", options: ["a", "some", "an"], answer: "some" },
            { q: "_____ he like some milk?", options: ["Do", "Would", "Is"], answer: "Would" },
            { q: "She has _____ meat for dinner.", options: ["a", "an", "some"], answer: "some" },
            { q: "I'd like _____ orange.", options: ["a", "an", "some"], answer: "an" },
            { q: "_____ you like some pasta?", options: ["Would", "Do", "Can"], answer: "Would" },
            { q: "We need _____ big onion.", options: ["a", "an", "some"], answer: "a" },
            { q: "Is there _____ bread?", options: ["a", "an", "some"], answer: "some" },
            { q: "_____ she like some cereal?", options: ["Would", "Do", "Is"], answer: "Would" },
            { q: "I'd like _____ water, please.", options: ["a", "some", "an"], answer: "some" }
          ],
          "Unit 9": [
            { q: "The Nile is the _____ river.", options: ["longer", "longest", "long"], answer: "longest" },
            { q: "Russia is _____ than the UK.", options: ["bigger", "biggest", "big"], answer: "bigger" },
            { q: "The cheetah is the _____ animal.", options: ["faster", "fastest", "fast"], answer: "fastest" },
            { q: "Mount Everest is the _____ mountain.", options: ["higher", "highest", "high"], answer: "highest" },
            { q: "The Pacific Ocean is _____ than the Atlantic.", options: ["deeper", "deepest", "deep"], answer: "deeper" },
            { q: "Lake Baikal is the _____ lake.", options: ["deepest", "deeper", "deep"], answer: "deepest" },
            { q: "Russia is the _____ country.", options: ["bigger", "biggest", "big"], answer: "biggest" },
            { q: "An elephant is _____ than a hippo.", options: ["bigger", "biggest", "big"], answer: "bigger" },
            { q: "The mouse is the _____ animal.", options: ["smaller", "smallest", "small"], answer: "smallest" },
            { q: "A plane is _____ than a car.", options: ["fastest", "faster", "fast"], answer: "faster" },
            { q: "The Nile is _____ than the Thames.", options: ["longest", "longer", "long"], answer: "longer" },
            { q: "The cheetah is _____ than a lion.", options: ["faster", "fastest", "fast"], answer: "faster" },
            { q: "The Burj Khalifa is the _____ building.", options: ["tallest", "taller", "tall"], answer: "tallest" },
            { q: "A giraffe is _____ than a zebra.", options: ["taller", "tallest", "tall"], answer: "taller" },
            { q: "The Amazon is the _____ river.", options: ["widest", "wider", "wide"], answer: "widest" },
            { q: "This cake is _____ than that one.", options: ["better", "best", "good"], answer: "better" },
            { q: "This is the _____ book in the library.", options: ["oldest", "older", "old"], answer: "oldest" },
            { q: "My grandpa is the _____ person I know.", options: ["older", "oldest", "old"], answer: "oldest" },
            { q: "A car is _____ than a bike.", options: ["heavier", "heaviest", "heavy"], answer: "heavier" },
            { q: "The whale is the _____ animal.", options: ["bigger", "biggest", "big"], answer: "biggest" }
          ],
          "Unit 10": [
            { q: "You _____ do your homework.", options: ["must", "mustn't", "can't"], answer: "must" },
            { q: "You _____ walk on the grass.", options: ["must", "mustn't", "are"], answer: "mustn't" },
            { q: "We _____ put litter in the bin.", options: ["mustn't", "must", "don't"], answer: "must" },
            { q: "You _____ turn off your mobile phone.", options: ["must", "mustn't", "don't"], answer: "must" },
            { q: "We _____ shout in the library.", options: ["must", "mustn't", "can"], answer: "mustn't" },
            { q: "You _____ wash your hands.", options: ["must", "mustn't", "not"], answer: "must" },
            { q: "We _____ drop litter in the park.", options: ["must", "mustn't", "do"], answer: "mustn't" },
            { q: "You _____ be quiet in the museum.", options: ["must", "mustn't", "are"], answer: "must" },
            { q: "We _____ pick the flowers.", options: ["must", "mustn't", "can"], answer: "mustn't" },
            { q: "You _____ listen to the teacher.", options: ["must", "mustn't", "not"], answer: "must" },
            { q: "We _____ play with matches.", options: ["must", "mustn't", "do"], answer: "mustn't" },
            { q: "You _____ wear a coat in winter.", options: ["must", "mustn't", "can"], answer: "must" },
            { q: "We _____ run in the corridor.", options: ["must", "mustn't", "do"], answer: "mustn't" },
            { q: "You _____ eat healthy food.", options: ["must", "mustn't", "not"], answer: "must" },
            { q: "We _____ talk when the teacher is talking.", options: ["must", "mustn't", "can"], answer: "mustn't" },
            { q: "You _____ brush your teeth.", options: ["must", "mustn't", "not"], answer: "must" },
            { q: "We _____ swim in the fountain.", options: ["must", "mustn't", "can"], answer: "mustn't" },
            { q: "You _____ walk on the path.", options: ["must", "mustn't", "are"], answer: "must" },
            { q: "We _____ be kind to animals.", options: ["must", "mustn't", "not"], answer: "must" },
            { q: "You _____ use your mobile phone in class.", options: ["must", "mustn't", "do"], answer: "mustn't" }
          ],
          "Unit 11": [
            { q: "There _____ a park in our town.", options: ["was", "were", "are"], answer: "was" },
            { q: "There _____ any planes 200 years ago.", options: ["wasn't", "weren't", "isn't"], answer: "weren't" },
            { q: "Were there _____ shops?", options: ["a", "any", "lots"], answer: "any" },
            { q: "There _____ lots of shops 50 years ago.", options: ["was", "were", "are"], answer: "were" },
            { q: "There _____ a ferry on the river.", options: ["was", "were", "are"], answer: "was" },
            { q: "There _____ any motorbikes in 1800.", options: ["wasn't", "weren't", "isn't"], answer: "weren't" },
            { q: "_____ there a shopping mall here?", options: ["Was", "Were", "Are"], answer: "Was" },
            { q: "_____ there any helicopters?", options: ["Was", "Were", "Is"], answer: "Were" },
            { q: "There _____ some trains.", options: ["was", "were", "is"], answer: "were" },
            { q: "There _____ a tram 100 years ago.", options: ["was", "were", "are"], answer: "was" },
            { q: "Were there any cars? No, there _____.", options: ["wasn't", "weren't", "not"], answer: "weren't" },
            { q: "Was there a park? Yes, there _____.", options: ["was", "were", "is"], answer: "was" },
            { q: "There _____ any planes then.", options: ["wasn't", "weren't", "aren't"], answer: "weren't" },
            { q: "There _____ some shops along the street.", options: ["was", "were", "are"], answer: "were" },
            { q: "There _____ a big boat in the middle.", options: ["was", "were", "is"], answer: "was" },
            { q: "_____ there any taxis?", options: ["Was", "Were", "Is"], answer: "Were" },
            { q: "There _____ some buses.", options: ["was", "were", "are"], answer: "were" },
            { q: "There _____ any buses 300 years ago.", options: ["wasn't", "weren't", "aren't"], answer: "weren't" },
            { q: "Was there a cinema? No, there _____.", options: ["wasn't", "weren't", "isn't"], answer: "wasn't" },
            { q: "There _____ lots of people in the museum.", options: ["was", "were", "are"], answer: "were" }
          ],
          "Unit 12": [
            { q: "He _____ handsome then.", options: ["were", "was", "is"], answer: "was" },
            { q: "I _____ tall when I was five.", options: ["wasn't", "weren't", "didn't"], answer: "wasn't" },
            { q: "He _____ black hair when he was young.", options: ["was", "had", "have"], answer: "had" },
            { q: "They _____ cheerful yesterday.", options: ["was", "were", "are"], answer: "were" },
            { q: "She _____ worried about the test.", options: ["was", "were", "is"], answer: "was" },
            { q: "We _____ any money then.", options: ["wasn't", "didn't have", "weren't"], answer: "didn't have" },
            { q: "_____ you at the park on Sunday?", options: ["Was", "Were", "Are"], answer: "Were" },
            { q: "I _____ a clever baby.", options: ["was", "were", "am"], answer: "was" },
            { q: "He _____ many toys when he was five.", options: ["had", "has", "have"], answer: "had" },
            { q: "They _____ shy when they were young.", options: ["was", "were", "are"], answer: "were" },
            { q: "She _____ long hair when she was a baby.", options: ["didn't have", "wasn't", "not have"], answer: "didn't have" },
            { q: "_____ she pretty when she was young?", options: ["Was", "Were", "Is"], answer: "Was" },
            { q: "We _____ very happy at the party.", options: ["was", "were", "are"], answer: "were" },
            { q: "He _____ short when he was a boy.", options: ["was", "were", "is"], answer: "was" },
            { q: "I _____ a red bike then.", options: ["had", "was", "have"], answer: "had" },
            { q: "_____ they generous at Christmas?", options: ["Was", "Were", "Are"], answer: "Were" },
            { q: "She _____ sad yesterday.", options: ["wasn't", "weren't", "not"], answer: "wasn't" },
            { q: "We _____ a lot of cousins.", options: ["had", "was", "have"], answer: "had" },
            { q: "He _____ relaxed on holiday.", options: ["was", "were", "is"], answer: "was" },
            { q: "_____ you friendly at school?", options: ["Was", "Were", "Are"], answer: "Were" }
          ],
          "Unit 13": [
            { q: "They _____ 2,000 years ago.", options: ["live", "lived", "living"], answer: "lived" },
            { q: "They didn't _____ pizza.", options: ["cooked", "cooks", "cook"], answer: "cook" },
            { q: "The men _____ in offices.", options: ["work", "worked", "working"], answer: "worked" },
            { q: "She _____ her homework last night.", options: ["finished", "finish", "finishing"], answer: "finished" },
            { q: "They didn't _____ computers.", options: ["used", "use", "using"], answer: "use" },
            { q: "He _____ his family very much.", options: ["loved", "love", "loving"], answer: "loved" },
            { q: "We _____ the project on Monday.", options: ["started", "start", "starting"], answer: "started" },
            { q: "They didn't _____ in apartments.", options: ["lived", "live", "living"], answer: "live" },
            { q: "She _____ at the funny joke.", options: ["laughed", "laugh", "laughing"], answer: "laughed" },
            { q: "We _____ to go to the zoo.", options: ["wanted", "want", "wanting"], answer: "wanted" },
            { q: "They _____ traditional houses.", options: ["cooked", "lived in", "used"], answer: "lived in" },
            { q: "The children didn't _____ the race.", options: ["finished", "finish", "finishing"], answer: "finish" },
            { q: "I _____ a special alphabet.", options: ["used", "use", "using"], answer: "used" },
            { q: "They didn't _____ to the park.", options: ["walked", "walk", "walking"], answer: "walk" },
            { q: "He _____ his lunch box at school.", options: ["opened", "open", "opening"], answer: "opened" },
            { q: "We didn't _____ our paintbrush.", options: ["used", "use", "using"], answer: "use" },
            { q: "They _____ some meat for dinner.", options: ["cooked", "cook", "cooks"], answer: "cooked" },
            { q: "She _____ a story about animals.", options: ["wanted", "want", "wants"], answer: "wanted" },
            { q: "I didn't _____ at the movie.", options: ["laughed", "laugh", "laughing"], answer: "laugh" },
            { q: "They _____ 5,000 years ago.", options: ["lived", "live", "living"], answer: "lived" }
          ],
          "Unit 14": [
            { q: "_____ you have a good day?", options: ["Do", "Did", "Was"], answer: "Did" },
            { q: "_____ did you watch last night? A film.", options: ["Where", "When", "What"], answer: "What" },
            { q: "_____ did the film finish? At nine o'clock.", options: ["When", "What", "Where"], answer: "When" },
            { q: "Did she _____ her backpack? Yes, she did.", options: ["forgets", "forget", "forgot"], answer: "forget" },
            { q: "_____ did they go? To the museum.", options: ["What", "Where", "When"], answer: "Where" },
            { q: "Did you _____ your calculator? No, I didn't.", options: ["use", "used", "using"], answer: "use" },
            { q: "_____ did he eat for lunch? Pizza.", options: ["What", "Where", "When"], answer: "What" },
            { q: "Did they _____ in a tent? Yes, they did.", options: ["sleeps", "sleep", "slept"], answer: "sleep" },
            { q: "_____ did you get up? At seven o'clock.", options: ["When", "What", "Where"], answer: "When" },
            { q: "Did he _____ an apron? No, he didn't.", options: ["wear", "wears", "wore"], answer: "wear" },
            { q: "_____ did you see at the zoo? A monkey.", options: ["Where", "When", "What"], answer: "What" },
            { q: "Did you _____ a good time? Yes, I did.", options: ["had", "have", "has"], answer: "have" },
            { q: "_____ did they cook? Meat.", options: ["What", "Where", "When"], answer: "What" },
            { q: "Did she _____ the dictionary? Yes, she did.", options: ["find", "finds", "found"], answer: "find" },
            { q: "_____ did the race start? At ten o'clock.", options: ["What", "When", "Where"], answer: "When" },
            { q: "Did they _____ a fire? No, they didn't.", options: ["started", "start", "starting"], answer: "start" },
            { q: "_____ did Leo go? On a camping trip.", options: ["Where", "When", "What"], answer: "Where" },
            { q: "Did you _____ a flashlight? Yes, I did.", options: ["uses", "use", "used"], answer: "use" },
            { q: "_____ did she say? Hello.", options: ["What", "Where", "When"], answer: "What" },
            { q: "Did they _____ their PE kit?", options: ["forget", "forgot", "forgets"], answer: "forget" }
          ],
          "Unit 15": [
            { q: "I'm _____ to pack my suitcase.", options: ["go", "going", "goes"], answer: "going" },
            { q: "_____ you going to swim?", options: ["Do", "Are", "Is"], answer: "Are" },
            { q: "We are going to buy soap _____.", options: ["yesterday", "tomorrow", "last week"], answer: "tomorrow" },
            { q: "He is _____ to pack sunscreen.", options: ["going", "go", "goes"], answer: "going" },
            { q: "_____ she going to use a towel?", options: ["Are", "Is", "Am"], answer: "Is" },
            { q: "They are going to go on vacation _____.", options: ["next week", "last week", "yesterday"], answer: "next week" },
            { q: "_____ I going to take a camera?", options: ["Are", "Is", "Am"], answer: "Am" },
            { q: "We are _____ to help Dad.", options: ["go", "going", "goes"], answer: "going" },
            { q: "_____ you going to wear a hat?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "She is going to brush her teeth _____.", options: ["tonight", "last night", "yesterday"], answer: "tonight" },
            { q: "I _____ going to write an email.", options: ["'s", "'m", "'re"], answer: "'m" },
            { q: "_____ they going to take shampoo?", options: ["Are", "Is", "Am"], answer: "Are" },
            { q: "He is going to visit his cousins _____.", options: ["soon", "yesterday", "last year"], answer: "soon" },
            { q: "We _____ going to swim in the ocean.", options: ["'s", "'re", "'m"], answer: "'re" },
            { q: "_____ she going to buy a toothbrush?", options: ["Is", "Are", "Am"], answer: "Is" },
            { q: "I am going to pack my bags _____.", options: ["later", "last week", "yesterday"], answer: "later" },
            { q: "They are _____ to have a great time.", options: ["going", "go", "goes"], answer: "going" },
            { q: "_____ you going to take a torch?", options: ["Is", "Are", "Am"], answer: "Are" },
            { q: "She is _____ to buy toothpaste tomorrow.", options: ["go", "going", "goes"], answer: "going" },
            { q: "We are going to leave _____ afternoon.", options: ["this", "last", "yesterday"], answer: "this" }
          ]
        };

        // --- GLOBAL STATE ---
        let totalGlobalScore = parseInt(localStorage.getItem('grammarQuestTotalScore')) || 0;
        let earnedBadges = JSON.parse(localStorage.getItem('earnedBadges')) || [];

        // --- TTS ---
        const synth = window.speechSynthesis;
        let brianVoice = null;

        function findBrianVoice() {
            const voices = synth.getVoices();
            brianVoice = voices.find(v => v.name.includes("Microsoft") && v.name.includes("Brian") && v.lang.startsWith("en")) 
                       || voices.find(v => v.name.includes("Online") && v.lang.startsWith("en"))
                       || voices[0];
        }
        if (synth.onvoiceschanged !== undefined) synth.onvoiceschanged = findBrianVoice;

        function speak(text) {
            synth.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            if (brianVoice) utterance.voice = brianVoice;
            utterance.rate = 0.85; 
            synth.speak(utterance);
        }

        // --- GLITTER ---
        const canvas = document.getElementById('glitter-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        class Particle {
            constructor(x, y) {
                this.x = x; this.y = y;
                this.size = Math.random() * 8 + 4;
                this.speedX = (Math.random() - 0.5) * 12;
                this.speedY = (Math.random() - 0.5) * 12;
                this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                this.opacity = 1;
            }
            update() { this.x += this.speedX; this.y += this.speedY; this.opacity -= 0.02; }
            draw() { ctx.globalAlpha = this.opacity; ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); }
        }

        function createExplosion() {
            for (let i = 0; i < 60; i++) particles.push(new Particle(window.innerWidth / 2, window.innerHeight / 2));
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particles.length; i++) {
                particles[i].update(); particles[i].draw();
                if (particles[i].opacity <= 0) { particles.splice(i, 1); i--; }
            }
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        // --- QUIZ LOGIC ---
        let currentUnit = null;
        let currentIndex = 0;
        let unitScore = 0;
        let lockQuiz = false;

        const menuScreen = document.getElementById('menu-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const unitGrid = document.getElementById('unit-grid');
        const badgeCollectionGrid = document.getElementById('badge-collection-grid');
        const globalScoreDisplay = document.getElementById('global-score-display');
        const badgeSummary = document.getElementById('badge-summary');

        function init() {
            unitGrid.innerHTML = '';
            Object.keys(grammarData).forEach(unitKey => {
                const config = unitConfigs[unitKey];
                const btn = document.createElement('button');
                // Updated class for 3D light grey style
                btn.className = 'btn-unit py-5 rounded-[2.5rem] flex flex-col items-center justify-center min-h-[140px]';
                btn.innerHTML = `<span class="text-5xl mb-2">${config.emoji}</span><span class="text-lg font-black uppercase tracking-tighter">${unitKey}</span>`;
                btn.onclick = () => startQuiz(unitKey);
                unitGrid.appendChild(btn);
            });
            updateGlobalDisplay();
            renderBadges();
            findBrianVoice();
        }

        function renderBadges() {
            badgeCollectionGrid.innerHTML = '';
            badgeSummary.innerHTML = '';
            Object.keys(unitConfigs).forEach(unitKey => {
                const config = unitConfigs[unitKey];
                const isEarned = earnedBadges.includes(unitKey);
                
                const badgeItem = document.createElement('div');
                badgeItem.className = `badge-icon ${isEarned ? 'unlocked' : 'locked'}`;
                badgeItem.innerHTML = config.badge;
                badgeCollectionGrid.appendChild(badgeItem);

                if (isEarned) {
                    const smallBadge = document.createElement('span');
                    smallBadge.textContent = config.badge;
                    smallBadge.className = "text-xl";
                    badgeSummary.appendChild(smallBadge);
                }
            });
        }

        function updateGlobalDisplay() {
            globalScoreDisplay.textContent = totalGlobalScore;
            localStorage.setItem('grammarQuestTotalScore', totalGlobalScore);
        }

        function startQuiz(unitKey) {
            currentUnit = unitKey;
            currentIndex = 0;
            unitScore = 0;
            lockQuiz = false;
            menuScreen.classList.remove('active');
            quizScreen.classList.add('active');
            document.getElementById('quiz-unit-title').textContent = unitKey;
            showQuestion();
        }

        function showQuestion() {
            const data = grammarData[currentUnit][currentIndex];
            document.getElementById('question-counter').textContent = `Quest ${currentIndex + 1} / 20`;
            const qEl = document.getElementById('question-text');
            qEl.textContent = data.q;
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            data.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn-option bg-white border-4 border-slate-200 rounded-3xl py-5 px-4 text-2xl font-black text-slate-700 hover:border-indigo-400 hover:bg-indigo-50 shadow-md';
                btn.textContent = opt;
                btn.onclick = () => checkAnswer(opt, btn);
                container.appendChild(btn);
            });
            document.getElementById('feedback-area').textContent = '';
            speak(data.q.replace("_____", "blank"));
        }

        function checkAnswer(selected, btn) {
            if (lockQuiz) return;
            lockQuiz = true;
            const data = grammarData[currentUnit][currentIndex];
            const feedback = document.getElementById('feedback-area');

            if (selected === data.answer) {
                unitScore++;
                totalGlobalScore++;
                updateGlobalDisplay();
                btn.classList.add('correct-bg');
                feedback.innerHTML = "Perfect! üõ°Ô∏è‚ú®";
                feedback.className = "h-16 mt-6 flex items-center justify-center text-3xl font-black text-green-600 pop-in";
                createExplosion();
                speak("Perfect!");
            } else {
                btn.classList.add('incorrect-bg');
                btn.classList.add('shake');
                feedback.innerHTML = "Try again! üçé";
                feedback.className = "h-16 mt-6 flex items-center justify-center text-3xl font-black text-red-600 shake";
                speak("Try again!");
            }

            setTimeout(() => {
                currentIndex++;
                if (currentIndex < 20) { lockQuiz = false; showQuestion(); } 
                else { showResults(); }
            }, 1800);
        }

        function showResults() {
            quizScreen.classList.remove('active');
            resultsScreen.classList.add('active');
            document.getElementById('res-unit').textContent = currentUnit;
            document.getElementById('res-score').textContent = `${unitScore}/20`;
            
            const celebration = document.getElementById('badge-celebration');
            if (unitScore >= 15 && !earnedBadges.includes(currentUnit)) {
                earnedBadges.push(currentUnit);
                localStorage.setItem('earnedBadges', JSON.stringify(earnedBadges));
                document.getElementById('earned-badge-icon').textContent = unitConfigs[currentUnit].badge;
                celebration.classList.remove('hidden');
                document.getElementById('results-header').textContent = "RANK UP! üèÖ";
                speak(`Fantastic! You earned the badge! Total score is ${totalGlobalScore}.`);
            } else {
                celebration.classList.add('hidden');
                document.getElementById('results-header').textContent = "Unit Clear! ‚öîÔ∏è";
                speak(`Well done! You got ${unitScore} points.`);
            }
            
            document.getElementById('results-feedback').textContent = unitScore >= 15 ? "Master Badge Collected!" : "Score 15 to earn the badge!";
            renderBadges();
        }

        function backToMenu() {
            synth.cancel();
            resultsScreen.classList.remove('active');
            quizScreen.classList.remove('active');
            menuScreen.classList.add('active');
        }

        window.onload = init;
    </script>
</body>
</html>
