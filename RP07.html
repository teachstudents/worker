<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Practice 07</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #27ae60;
            --success: #2ecc71;
            --error: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #1a252f;
            --gray: #7f8c8d;
            --border: #bdc3c7;
            --shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: #2c3e50;
            background-color: #f5f7fa;
            padding: 15px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: visible;
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-title {
            font-size: 1.4rem;
            font-weight: 600;
        }
        
        .header-stats {
            display: flex;
            gap: 20px;
            font-size: 1rem;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timer {
            font-weight: bold;
            color: #f1c40f;
        }
        
        .score-display {
            font-weight: bold;
        }
        
        /* Start Screen */
        .start-screen {
            padding: 40px;
            text-align: center;
        }
        
        .start-screen h2 {
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .name-input-group {
            margin: 30px 0;
        }
        
        .name-input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .name-input {
            width: 100%;
            max-width: 400px;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1.1rem;
            transition: border-color 0.3s;
        }
        
        .name-input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .error-message {
            color: var(--error);
            margin-top: 8px;
            font-size: 0.95rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .start-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 14px 35px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .start-btn:hover {
            background: #219653;
        }
        
        .start-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
        }
        
        .instructions {
            background: var(--light);
            border-left: 4px solid var(--secondary);
            padding: 15px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
            text-align: left;
        }
        
        .instructions ul {
            padding-left: 20px;
            margin-top: 10px;
        }
        
        .instructions li {
            margin-bottom: 5px;
        }
        
        /* Two-Column Layout for Test Content */
        .test-layout {
            display: none;
            padding: 20px;
            gap: 20px;
        }
        
        .test-layout.active {
            display: grid;
            grid-template-columns: 3fr 1fr;
            animation: fadeIn 0.4s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Left Column: Passage Text */
        .passage-column {
            padding-right: 15px;
            border-right: 1px solid var(--border);
            max-height: calc(100vh - 150px);
            overflow-y: auto;
        }
        
        .passage-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .passage-text {
            background: var(--light);
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.05rem;
            line-height: 1.7;
            border-left: 4px solid var(--secondary);
        }
        
        /* Right Column: Questions */
        .questions-column {
            padding-left: 15px;
            overflow-y: auto;
            max-height: calc(100vh - 150px);
            padding-bottom: 20px;
            position: relative;
            z-index: 10;
        }
        
        .question-box {
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .question-text {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 12px;
            line-height: 1.5;
        }
        
        .question-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .skill-tag {
            background: #d5f5e3;
            color: var(--secondary);
            padding: 2px 8px;
            border-radius: 12px;
            font-weight: 500;
            font-size: 0.8rem;
        }
        
        .options {
            display: grid;
            gap: 8px;
            margin-top: 8px;
        }
        
        .option-btn {
            padding: 10px 15px;
            border: 2px solid var(--border);
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95rem;
            text-align: left;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .option-btn:hover {
            background: #f8f9f9;
            border-color: var(--secondary);
        }
        
        .option-btn.correct {
            background: #d4edda;
            border-color: var(--success);
            color: #155724;
            font-weight: 500;
        }
        
        .option-btn.incorrect {
            background: #f8d7da;
            border-color: var(--error);
            color: #721c24;
            font-weight: 500;
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.85;
        }
        
        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            font-weight: bold;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        
        .option-btn.correct .option-letter {
            background: var(--success);
        }
        
        .option-btn.incorrect .option-letter {
            background: var(--error);
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            display: none;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .feedback.correct {
            background: #d4edda;
            border: 1px solid var(--success);
            color: #155724;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            border: 1px solid var(--error);
            color: #721c24;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
        }
        
        /* Navigation */
        .navigation {
            padding: 15px 25px;
            background: var(--light);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-btn {
            padding: 10px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .nav-btn.prev {
            background: #95a5a6;
            color: white;
        }
        
        .nav-btn.next {
            background: var(--secondary);
            color: white;
        }
        
        .nav-btn.next:hover {
            background: #219653;
        }
        
        .nav-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .passage-indicator {
            font-weight: 500;
            color: var(--primary);
            font-size: 1rem;
        }
        
        /* Results Screen */
        .results-screen {
            padding: 30px;
            display: none;
            text-align: center;
        }
        
        .results-screen.active {
            display: block;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #27ae60 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 25px;
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .results-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
            text-align: left;
        }
        
        .meta-item {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary);
        }
        
        .meta-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark);
        }
        
        .skills-summary {
            margin: 30px 0;
            text-align: left;
        }
        
        .skills-summary h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .skill-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: var(--light);
        }
        
        .skill-item.missed {
            background: #fdedec;
            border-left: 4px solid var(--error);
        }
        
        .skill-item.mastered {
            border-left: 4px solid var(--success);
        }
        
        .export-section {
            margin: 35px 0;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }
        
        .export-section h3 {
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.4rem;
        }
        
        .export-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .export-btn {
            padding: 14px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .btn-wechat {
            background: #07c160;
            color: white;
        }
        
        .btn-email {
            background: var(--error);
            color: white;
        }
        
        .btn-lms {
            background: var(--secondary);
            color: white;
        }
        
        .btn-download {
            background: #8e44ad;
            color: white;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--dark);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s, fadeOut 0.3s 2.7s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(200px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 900px) {
            .test-layout.active {
                grid-template-columns: 1fr;
            }
            
            .passage-column {
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding-right: 0;
                padding-bottom: 15px;
                margin-bottom: 15px;
                max-height: none;
            }
            
            .questions-column {
                padding-left: 0;
                max-height: none;
            }
            
            body {
                padding: 10px;
            }
            
            .header {
                padding: 12px 15px;
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .header-stats {
                width: 100%;
                justify-content: center;
            }
            
            .passage-text {
                padding: 20px 15px;
                font-size: 1rem;
            }
            
            .question-box {
                padding: 12px;
            }
            
            .export-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .export-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-title">Reading Practice 07</div>
            <div class="header-stats">
                <div class="stat-item">
                    <span>‚è±Ô∏è</span>
                    <span class="timer" id="timer">00:00</span>
                </div>
                <div class="stat-item">
                    <span>‚úÖ</span>
                    <span class="score-display" id="score-display">0/20</span>
                </div>
            </div>
        </div>
        
        <!-- Start Screen -->
        <div class="start-screen" id="start-screen">
            <h2>Welcome to Reading Practice 07</h2>
            <p>Please enter your name to begin the test.</p>
            
            <div class="name-input-group">
                <label for="tester-name">Your Name (Pinyin or English only)</label>
                <input type="text" id="tester-name" class="name-input" placeholder="e.g., Chen Jie or David Li">
                <div class="error-message" id="name-error">Please use Pinyin or English characters only. Chinese characters are not accepted.</div>
            </div>
            
            <div class="instructions">
                <p><strong>Test Instructions:</strong></p>
                <ul>
                    <li>Read each passage carefully before answering questions</li>
                    <li>Select the best answer for each question</li>
                    <li>You will receive immediate feedback after each answer</li>
                    <li>The test has 20 questions across 5 passages</li>
                    <li>Estimated time: 35-40 minutes</li>
                </ul>
            </div>
            
            <button class="start-btn" id="start-btn">Start Test</button>
        </div>
        
        <!-- Test Layout: Two Columns -->
        <div class="test-layout" id="test-layout">
            <!-- Left Column: Passage Text -->
            <div class="passage-column">
                <!-- Passage 1: Chinese Paper-cutting Art -->
                <div class="passage-section active" data-passage="1">
                    <h2 class="passage-title">Passage 1: The Art of Chinese Paper-cutting</h2>
                    <div class="passage-text">
                        <p>Chinese paper-cutting, or <em>jianzhi</em>, is a traditional folk art with a history of over 1,500 years. Artists use scissors or knives to cut paper into beautiful designs that often carry good wishes for happiness, health, and prosperity.</p>
                        <p><strong>üé® Materials and Methods:</strong> Red paper is most common because red symbolizes good luck in Chinese culture. Artists fold the paper before cutting to create symmetrical patterns. Common designs include flowers, animals, and Chinese characters like "Á¶è" (fortune).</p>
                        <p><strong>üèÆ Cultural Importance:</strong> Paper-cuts decorate windows, doors, and walls during festivals, especially the Spring Festival. They express people's hopes for a bright future and show respect for traditional culture.</p>
                        <p><strong>üåç Modern Development:</strong> Today, paper-cutting is not only a folk art but also taught in schools and shared with the world. Many young artists combine traditional skills with modern designs to keep this art form alive.</p>
                        <p><em>Key Vocabulary: symbolize, prosperity, symmetrical, heritage, preserve</em></p>
                    </div>
                </div>
                
                <!-- Passage 2: A Story of Perseverance -->
                <div class="passage-section" data-passage="2">
                    <h2 class="passage-title">Passage 2: Never Give Up</h2>
                    <div class="passage-text">
                        <p>When Xiao Ming joined the school running team, he was the slowest runner. Some teammates laughed, but his coach said, "Progress comes from practice, not talent."</p>
                        <p>Xiao Ming decided to improve. He ran every morning before school, even in cold weather. He kept a record of his times and set small goals: first run 1 kilometer without stopping, then 2 kilometers, then faster times.</p>
                        <p>After three months, Xiao Ming still wasn't the fastest, but he had improved greatly. More importantly, he learned that success comes from effort and patience. At the school sports meet, he finished his race with pride, and his teammates cheered for him.</p>
                        <p>His coach smiled and said, "You didn't just improve your running‚Äîyou built character." Xiao Ming realized that perseverance helps us succeed not only in sports but in all areas of life.</p>
                        <p><em>Key Vocabulary: perseverance, progress, achieve, determination, overcome</em></p>
                    </div>
                </div>
                
                <!-- Passage 3: Healthy Eating for Students -->
                <div class="passage-section" data-passage="3">
                    <h2 class="passage-title">Passage 3: Balanced Nutrition for Better Learning</h2>
                    <div class="passage-text">
                        <p>Good nutrition is essential for students' physical health and academic performance. A balanced diet provides the energy and nutrients needed for concentration, memory, and overall well-being.</p>
                        <p><strong>ü•ó Key Food Groups:</strong> 
                        ‚Ä¢ Grains (rice, noodles, whole wheat bread) provide energy.
                        ‚Ä¢ Vegetables and fruits offer vitamins and fiber.
                        ‚Ä¢ Protein foods (eggs, fish, beans, tofu) help build strong bodies.
                        ‚Ä¢ Dairy products (milk, yogurt) support bone health.</p>
                        <p><strong>‚è∞ Healthy Eating Habits:</strong> Eat regular meals, especially breakfast. Limit sugary drinks and snacks. Drink plenty of water. Avoid eating too late at night.</p>
                        <p><strong>üìö Connection to Learning:</strong> Research shows that students who eat balanced meals have better focus in class, remember information more easily, and feel more energetic throughout the day.</p>
                        <p><em>Key Vocabulary: nutrition, balanced, essential, concentration, nutrients</em></p>
                    </div>
                </div>
                
                <!-- Passage 4: Smart Cities in China -->
                <div class="passage-section" data-passage="4">
                    <h2 class="passage-title">Passage 4: Technology for Better Urban Life</h2>
                    <div class="passage-text">
                        <p>Many Chinese cities are becoming "smart cities" by using technology to improve residents' lives. Smart cities use data and digital tools to make urban areas more efficient, sustainable, and convenient.</p>
                        <p><strong>üöå Smart Transportation:</strong> Apps show real-time bus and subway schedules. Electric buses and bike-sharing systems reduce traffic and pollution. Smart traffic lights adjust to reduce congestion.</p>
                        <p><strong>‚ôªÔ∏è Environmental Protection:</strong> Sensors monitor air and water quality. Smart waste bins signal when they need emptying. Renewable energy sources like solar power are increasingly used.</p>
                        <p><strong>üè• Public Services:</strong> Online platforms allow citizens to access government services, pay bills, and report problems easily. Telemedicine connects patients with doctors remotely.</p>
                        <p><strong>üí° Important Consideration:</strong> While technology offers many benefits, smart cities must also protect personal data and ensure all residents can access these services.</p>
                        <p><em>Key Vocabulary: efficient, sustainable, congestion, renewable, accessible</em></p>
                    </div>
                </div>
                
                <!-- Passage 5: Learning from Mistakes -->
                <div class="passage-section" data-passage="5">
                    <h2 class="passage-title">Passage 5: Mistakes Help Us Grow</h2>
                    <div class="passage-text">
                        <p>Making mistakes is a natural part of learning. Instead of feeling ashamed, we can view mistakes as valuable opportunities to improve and grow.</p>
                        <p><strong>üîç Why Mistakes Matter:</strong> When we make a mistake, our brain works harder to understand what went wrong. This process strengthens our knowledge and skills. Research shows that students who learn from errors perform better in the long term.</p>
                        <p><strong>üí° How to Learn from Mistakes:</strong> 
                        1. Stay calm and avoid self-criticism.
                        2. Analyze what caused the mistake.
                        3. Make a plan to avoid similar errors next time.
                        4. Ask for help if needed.</p>
                        <p><strong>üå± Growth Mindset:</strong> People with a growth mindset believe abilities can be developed through effort. They see challenges as chances to learn, not as threats to their intelligence.</p>
                        <p>As the saying goes: "Failure is the mother of success." By embracing mistakes as learning opportunities, we build resilience and achieve greater success in school and life.</p>
                        <p><em>Key Vocabulary: analyze, resilience, opportunity, mindset, develop</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Right Column: Questions -->
            <div class="questions-column">
                <!-- Questions for Passage 1 -->
                <div class="questions-section active" data-passage="1">
                    <div class="question-box" id="qbox-1">
                        <div class="question-meta">
                            <span>Q1</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, what color paper is most common for Chinese paper-cutting?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(1, 'A', this)">
                                <span class="option-letter">A</span> Blue
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'B', this)">
                                <span class="option-letter">B</span> Red
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'C', this)">
                                <span class="option-letter">C</span> Yellow
                            </button>
                            <button class="option-btn" onclick="checkAnswer(1, 'D', this)">
                                <span class="option-letter">D</span> White
                            </button>
                        </div>
                        <div class="feedback" id="feedback-1"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-2">
                        <div class="question-meta">
                            <span>Q2</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the passage, "symbolizes" most nearly means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(2, 'A', this)">
                                <span class="option-letter">A</span> to hide or cover
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'B', this)">
                                <span class="option-letter">B</span> to represent or stand for
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'C', this)">
                                <span class="option-letter">C</span> to destroy or remove
                            </button>
                            <button class="option-btn" onclick="checkAnswer(2, 'D', this)">
                                <span class="option-letter">D</span> to copy exactly
                            </button>
                        </div>
                        <div class="feedback" id="feedback-2"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-3">
                        <div class="question-meta">
                            <span>Q3</span>
                            <span class="skill-tag">Detail (NOT)</span>
                        </div>
                        <p class="question-text">Which is NOT mentioned as a common design in paper-cutting?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(3, 'A', this)">
                                <span class="option-letter">A</span> Flowers
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'B', this)">
                                <span class="option-letter">B</span> Animals
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'C', this)">
                                <span class="option-letter">C</span> Chinese characters
                            </button>
                            <button class="option-btn" onclick="checkAnswer(3, 'D', this)">
                                <span class="option-letter">D</span> Modern buildings
                            </button>
                        </div>
                        <div class="feedback" id="feedback-3"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-4">
                        <div class="question-meta">
                            <span>Q4</span>
                            <span class="skill-tag">Main Idea</span>
                        </div>
                        <p class="question-text">What is the main purpose of this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(4, 'A', this)">
                                <span class="option-letter">A</span> To teach readers how to cut paper
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'B', this)">
                                <span class="option-letter">B</span> To introduce Chinese paper-cutting art and its cultural significance
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'C', this)">
                                <span class="option-letter">C</span> To compare paper-cutting with other art forms
                            </button>
                            <button class="option-btn" onclick="checkAnswer(4, 'D', this)">
                                <span class="option-letter">D</span> To argue that traditional arts are better than modern arts
                            </button>
                        </div>
                        <div class="feedback" id="feedback-4"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 2 -->
                <div class="questions-section" data-passage="2">
                    <div class="question-box" id="qbox-5">
                        <div class="question-meta">
                            <span>Q5</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">What did Xiao Ming do to improve his running?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(5, 'A', this)">
                                <span class="option-letter">A</span> He only ran on weekends
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'B', this)">
                                <span class="option-letter">B</span> He ran every morning and set small goals
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'C', this)">
                                <span class="option-letter">C</span> He asked to be moved to a different team
                            </button>
                            <button class="option-btn" onclick="checkAnswer(5, 'D', this)">
                                <span class="option-letter">D</span> He bought expensive running shoes
                            </button>
                        </div>
                        <div class="feedback" id="feedback-5"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-6">
                        <div class="question-meta">
                            <span>Q6</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">What can we infer about Xiao Ming's coach?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(6, 'A', this)">
                                <span class="option-letter">A</span> The coach believed only talented students could succeed
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'B', this)">
                                <span class="option-letter">B</span> The coach valued effort and character development
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'C', this)">
                                <span class="option-letter">C</span> The coach was only interested in winning competitions
                            </button>
                            <button class="option-btn" onclick="checkAnswer(6, 'D', this)">
                                <span class="option-letter">D</span> The coach discouraged students who were slow
                            </button>
                        </div>
                        <div class="feedback" id="feedback-6"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-7">
                        <div class="question-meta">
                            <span>Q7</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the passage, "perseverance" most probably means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(7, 'A', this)">
                                <span class="option-letter">A</span> giving up when things are difficult
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'B', this)">
                                <span class="option-letter">B</span> continuing to try despite difficulties
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'C', this)">
                                <span class="option-letter">C</span> avoiding challenges to stay comfortable
                            </button>
                            <button class="option-btn" onclick="checkAnswer(7, 'D', this)">
                                <span class="option-letter">D</span> expecting immediate success
                            </button>
                        </div>
                        <div class="feedback" id="feedback-7"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-8">
                        <div class="question-meta">
                            <span>Q8</span>
                            <span class="skill-tag">Main Idea</span>
                        </div>
                        <p class="question-text">What is the central message of this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(8, 'A', this)">
                                <span class="option-letter">A</span> Only naturally talented people can succeed in sports
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'B', this)">
                                <span class="option-letter">B</span> Perseverance and effort lead to personal growth and success
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'C', this)">
                                <span class="option-letter">C</span> Winning competitions is the most important goal
                            </button>
                            <button class="option-btn" onclick="checkAnswer(8, 'D', this)">
                                <span class="option-letter">D</span> Students should avoid activities where they are not the best
                            </button>
                        </div>
                        <div class="feedback" id="feedback-8"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 3 -->
                <div class="questions-section" data-passage="3">
                    <div class="question-box" id="qbox-9">
                        <div class="question-meta">
                            <span>Q9</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, which food group provides energy?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(9, 'A', this)">
                                <span class="option-letter">A</span> Vegetables and fruits
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'B', this)">
                                <span class="option-letter">B</span> Grains (rice, noodles, whole wheat bread)
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'C', this)">
                                <span class="option-letter">C</span> Dairy products
                            </button>
                            <button class="option-btn" onclick="checkAnswer(9, 'D', this)">
                                <span class="option-letter">D</span> Sugary drinks
                            </button>
                        </div>
                        <div class="feedback" id="feedback-9"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-10">
                        <div class="question-meta">
                            <span>Q10</span>
                            <span class="skill-tag">Reference</span>
                        </div>
                        <p class="question-text">In paragraph 3, what does "this" refer to in "this process strengthens our knowledge"?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(10, 'A', this)">
                                <span class="option-letter">A</span> eating balanced meals
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'B', this)">
                                <span class="option-letter">B</span> the brain working harder to understand mistakes
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'C', this)">
                                <span class="option-letter">C</span> setting small goals
                            </button>
                            <button class="option-btn" onclick="checkAnswer(10, 'D', this)">
                                <span class="option-letter">D</span> drinking plenty of water
                            </button>
                        </div>
                        <div class="feedback" id="feedback-10"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-11">
                        <div class="question-meta">
                            <span>Q11</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">Which healthy eating habit is mentioned in the passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(11, 'A', this)">
                                <span class="option-letter">A</span> Skip breakfast to save time
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'B', this)">
                                <span class="option-letter">B</span> Eat regular meals, especially breakfast
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'C', this)">
                                <span class="option-letter">C</span> Drink sugary beverages for energy
                            </button>
                            <button class="option-btn" onclick="checkAnswer(11, 'D', this)">
                                <span class="option-letter">D</span> Eat large meals late at night
                            </button>
                        </div>
                        <div class="feedback" id="feedback-11"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-12">
                        <div class="question-meta">
                            <span>Q12</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">Based on the passage, why might balanced meals help students in class?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(12, 'A', this)">
                                <span class="option-letter">A</span> They make students feel sleepy
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'B', this)">
                                <span class="option-letter">B</span> They provide energy and nutrients for better focus and memory
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'C', this)">
                                <span class="option-letter">C</span> They allow students to skip lunch
                            </button>
                            <button class="option-btn" onclick="checkAnswer(12, 'D', this)">
                                <span class="option-letter">D</span> They replace the need for studying
                            </button>
                        </div>
                        <div class="feedback" id="feedback-12"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 4 -->
                <div class="questions-section" data-passage="4">
                    <div class="question-box" id="qbox-13">
                        <div class="question-meta">
                            <span>Q13</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, what is one benefit of smart transportation?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(13, 'A', this)">
                                <span class="option-letter">A</span> It increases traffic congestion
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'B', this)">
                                <span class="option-letter">B</span> Apps show real-time bus and subway schedules
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'C', this)">
                                <span class="option-letter">C</span> It makes public transport more expensive
                            </button>
                            <button class="option-btn" onclick="checkAnswer(13, 'D', this)">
                                <span class="option-letter">D</span> It eliminates the need for buses
                            </button>
                        </div>
                        <div class="feedback" id="feedback-13"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-14">
                        <div class="question-meta">
                            <span>Q14</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the passage, "sustainable" most nearly means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(14, 'A', this)">
                                <span class="option-letter">A</span> causing harm to the environment
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'B', this)">
                                <span class="option-letter">B</span> able to be maintained long-term without harming the environment
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'C', this)">
                                <span class="option-letter">C</span> very expensive and luxurious
                            </button>
                            <button class="option-btn" onclick="checkAnswer(14, 'D', this)">
                                <span class="option-letter">D</span> only for wealthy cities
                            </button>
                        </div>
                        <div class="feedback" id="feedback-14"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-15">
                        <div class="question-meta">
                            <span>Q15</span>
                            <span class="skill-tag">Text Structure</span>
                        </div>
                        <p class="question-text">How is paragraph 4 related to paragraph 3 in the passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(15, 'A', this)">
                                <span class="option-letter">A</span> Paragraph 4 provides examples that support the ideas in paragraph 3
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'B', this)">
                                <span class="option-letter">B</span> Paragraph 4 introduces an important consideration about smart cities
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'C', this)">
                                <span class="option-letter">C</span> Paragraph 4 repeats the same information as paragraph 3
                            </button>
                            <button class="option-btn" onclick="checkAnswer(15, 'D', this)">
                                <span class="option-letter">D</span> Paragraph 4 introduces a completely unrelated topic
                            </button>
                        </div>
                        <div class="feedback" id="feedback-15"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-16">
                        <div class="question-meta">
                            <span>Q16</span>
                            <span class="skill-tag">Author's Purpose</span>
                        </div>
                        <p class="question-text">What is the writer's main purpose in writing this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(16, 'A', this)">
                                <span class="option-letter">A</span> To argue that technology should be avoided in cities
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'B', this)">
                                <span class="option-letter">B</span> To explain how smart cities use technology to improve urban life while noting important considerations
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'C', this)">
                                <span class="option-letter">C</span> To promote specific technology companies
                            </button>
                            <button class="option-btn" onclick="checkAnswer(16, 'D', this)">
                                <span class="option-letter">D</span> To criticize urban development in China
                            </button>
                        </div>
                        <div class="feedback" id="feedback-16"></div>
                    </div>
                </div>
                
                <!-- Questions for Passage 5 -->
                <div class="questions-section" data-passage="5">
                    <div class="question-box" id="qbox-17">
                        <div class="question-meta">
                            <span>Q17</span>
                            <span class="skill-tag">Detail</span>
                        </div>
                        <p class="question-text">According to the passage, what is the first step in learning from mistakes?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(17, 'A', this)">
                                <span class="option-letter">A</span> Blame others for the error
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'B', this)">
                                <span class="option-letter">B</span> Stay calm and avoid self-criticism
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'C', this)">
                                <span class="option-letter">C</span> Ignore the mistake completely
                            </button>
                            <button class="option-btn" onclick="checkAnswer(17, 'D', this)">
                                <span class="option-letter">D</span> Give up on the task
                            </button>
                        </div>
                        <div class="feedback" id="feedback-17"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-18">
                        <div class="question-meta">
                            <span>Q18</span>
                            <span class="skill-tag">Inference</span>
                        </div>
                        <p class="question-text">Based on the passage, what might be a result of having a growth mindset?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(18, 'A', this)">
                                <span class="option-letter">A</span> Avoiding challenges to prevent failure
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'B', this)">
                                <span class="option-letter">B</span> Seeing challenges as opportunities to learn and improve
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'C', this)">
                                <span class="option-letter">C</span> Believing abilities cannot change
                            </button>
                            <button class="option-btn" onclick="checkAnswer(18, 'D', this)">
                                <span class="option-letter">D</span> Feeling ashamed of making mistakes
                            </button>
                        </div>
                        <div class="feedback" id="feedback-18"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-19">
                        <div class="question-meta">
                            <span>Q19</span>
                            <span class="skill-tag">Vocabulary</span>
                        </div>
                        <p class="question-text">In the passage, "resilience" most nearly means:</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(19, 'A', this)">
                                <span class="option-letter">A</span> the ability to give up easily
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'B', this)">
                                <span class="option-letter">B</span> the ability to recover from difficulties and keep trying
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'C', this)">
                                <span class="option-letter">C</span> the ability to avoid all problems
                            </button>
                            <button class="option-btn" onclick="checkAnswer(19, 'D', this)">
                                <span class="option-letter">D</span> the ability to memorize information quickly
                            </button>
                        </div>
                        <div class="feedback" id="feedback-19"></div>
                    </div>
                    
                    <div class="question-box" id="qbox-20">
                        <div class="question-meta">
                            <span>Q20</span>
                            <span class="skill-tag">Main Idea</span>
                        </div>
                        <p class="question-text">What is the central message of this passage?</p>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(20, 'A', this)">
                                <span class="option-letter">A</span> Mistakes should be avoided at all costs
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'B', this)">
                                <span class="option-letter">B</span> Mistakes are valuable learning opportunities that help us grow and build resilience
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'C', this)">
                                <span class="option-letter">C</span> Only smart people make mistakes
                            </button>
                            <button class="option-btn" onclick="checkAnswer(20, 'D', this)">
                                <span class="option-letter">D</span> Success means never making errors
                            </button>
                        </div>
                        <div class="feedback" id="feedback-20"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="navigation" id="navigation">
            <button class="nav-btn prev" onclick="prevSection()" id="prev-btn" disabled>‚Üê Previous</button>
            <span class="passage-indicator" id="passage-indicator">Passage 1 of 5</span>
            <button class="nav-btn next" onclick="nextSection()" id="next-btn">Next ‚Üí</button>
        </div>
        
        <!-- Results Screen -->
        <div class="results-screen" id="results-screen">
            <div class="results-header">
                <h2>Test Completed!</h2>
                <p>Here are your results for Reading Practice 07</p>
            </div>
            
            <div class="score-circle" id="final-score">0/20</div>
            
            <div class="results-meta">
                <div class="meta-item">
                    <div class="meta-label">Tester Name</div>
                    <div class="meta-value" id="result-name">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Date & Time</div>
                    <div class="meta-value" id="result-datetime">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Time Taken</div>
                    <div class="meta-value" id="result-duration">-</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Accuracy</div>
                    <div class="meta-value" id="result-accuracy">0%</div>
                </div>
            </div>
            
            <div class="skills-summary">
                <h3>Reading Skills Analysis</h3>
                <div id="skills-breakdown">
                    <!-- Skills breakdown inserted by JavaScript -->
                </div>
            </div>
            
            <div class="export-section">
                <h3>Share Your Results</h3>
                <div class="export-buttons">
                    <button class="export-btn btn-wechat" onclick="copyForWeChat()">
                        üí¨ Copy for WeChat
                    </button>
                    <button class="export-btn btn-email" onclick="emailResults()">
                        üìß Email Results
                    </button>
                    <button class="export-btn btn-lms" onclick="downloadForLMS()">
                        üì§ Download for LMS
                    </button>
                    <button class="export-btn btn-download" onclick="downloadPDF()">
                        üìÑ Save as PDF
                    </button>
                </div>
            </div>
            
            <button class="start-btn" onclick="restartTest()" style="margin-top: 20px;">
                üîÑ Take Another Practice Test
            </button>
        </div>
    </div>
    
    <div class="toast" id="toast">Results copied to clipboard!</div>
    
    <script>
        // Answer Key with Zhongkao-appropriate vocabulary explanations
        const answers = {
            1: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The passage states: "Red paper is most common because red symbolizes good luck in Chinese culture."<br><br>‚ùå A, C, D: These colors are not mentioned as common for paper-cutting.',
                skill: 'Detail Comprehension'
            },
            2: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! "Symbolizes" means to represent or stand for something‚Äîin this case, red paper represents good luck.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Not related to representation.<br>‚ùå D: Not about exact copying.',
                skill: 'Vocabulary in Context'
            },
            3: { 
                correct: 'D', 
                explanation: '‚úÖ Correct! The passage mentions flowers, animals, and Chinese characters as common designs. Modern buildings are NOT mentioned.<br><br>‚ùå A, B, C: All explicitly listed as common paper-cutting designs.',
                skill: 'Detail Comprehension (NOT)'
            },
            4: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The passage introduces paper-cutting art, explains its methods, cultural importance, and modern development‚Äîproviding a comprehensive introduction to this traditional art form.<br><br>‚ùå A: No step-by-step instructions given.<br>‚ùå C: No comparison with other arts.<br>‚ùå D: No argument about traditional vs. modern arts.',
                skill: 'Main Idea'
            },
            5: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 2 states: "He ran every morning before school... He kept a record of his times and set small goals."<br><br>‚ùå A: He ran daily, not just weekends.<br>‚ùå C: He stayed on the team and improved.<br>‚ùå D: Equipment isn\'t mentioned as his improvement method.',
                skill: 'Detail Comprehension'
            },
            6: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The coach said "Progress comes from practice, not talent" and later praised Xiao Ming for building character‚Äîshowing he values effort and personal growth.<br><br>‚ùå A: Opposite of coach\'s stated belief.<br>‚ùå C: Coach emphasized character over winning.<br>‚ùå D: Coach encouraged all students.',
                skill: 'Inference'
            },
            7: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Context shows Xiao Ming continued running despite being slow initially‚Äî"perseverance" means continuing to try despite difficulties.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Avoiding challenges contradicts the story.<br>‚ùå D: Story emphasizes gradual progress, not immediate success.',
                skill: 'Vocabulary in Context'
            },
            8: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Final paragraph states: "perseverance helps us succeed not only in sports but in all areas of life"‚Äîthe central message is that effort and persistence lead to growth.<br><br>‚ùå A: Contradicted by coach\'s advice.<br>‚ùå C: "We didn\'t win first prize, but we learned something more valuable."<br>‚ùå D: Story encourages trying activities despite initial difficulty.',
                skill: 'Main Idea'
            },
            9: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The passage states: "Grains (rice, noodles, whole wheat bread) provide energy."<br><br>‚ùå A: Vegetables/fruits offer vitamins and fiber.<br>‚ùå C: Dairy supports bone health.<br>‚ùå D: Sugary drinks should be limited.',
                skill: 'Detail Comprehension'
            },
            10: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Sentence: "When we make a mistake, our brain works harder to understand what went wrong. This process strengthens our knowledge..." ‚Äî "this" refers to the brain\'s effort to understand errors.<br><br>‚ùå A, C, D: Not the subject of "this process" in this context.',
                skill: 'Reference'
            },
            11: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 3 states: "Eat regular meals, especially breakfast" as a healthy eating habit.<br><br>‚ùå A: Breakfast is emphasized as important.<br>‚ùå C: Sugary drinks should be limited.<br>‚ùå D: Avoid eating too late at night is advised.',
                skill: 'Detail Comprehension'
            },
            12: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Final paragraph states students with balanced meals "have better focus in class, remember information more easily, and feel more energetic"‚Äîlinking nutrition to cognitive benefits.<br><br>‚ùå A: Balanced meals improve, not reduce, alertness.<br>‚ùå C: Not mentioned.<br>‚ùå D: Nutrition supports, doesn\'t replace, studying.',
                skill: 'Inference'
            },
            13: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 2 states: "Apps show real-time bus and subway schedules" as a benefit of smart transportation.<br><br>‚ùå A: Smart transport aims to reduce congestion.<br>‚ùå C: Cost isn\'t discussed as a benefit.<br>‚ùå D: Public transport is enhanced, not eliminated.',
                skill: 'Detail Comprehension'
            },
            14: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! "Sustainable" in environmental context means able to be maintained long-term without harming the environment‚Äîaligning with smart cities\' goals.<br><br>‚ùå A: Opposite of sustainable.<br>‚ùå C: Not about cost or luxury.<br>‚ùå D: Sustainability is for all communities.',
                skill: 'Vocabulary in Context'
            },
            15: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraphs 2-3 list benefits of smart cities; paragraph 4 begins "Important Consideration" to note that data protection and accessibility must also be addressed‚Äîadding a crucial perspective.<br><br>‚ùå A: Examples were in earlier paragraphs.<br>‚ùå C: New content about considerations.<br>‚ùå D: Directly related as balanced discussion.',
                skill: 'Text Structure'
            },
            16: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Passage explains smart city benefits (transportation, environment, services) while noting important considerations (data protection, accessibility)‚Äîproviding a balanced overview.<br><br>‚ùå A: Passage advocates thoughtful technology use.<br>‚ùå C: No companies promoted.<br>‚ùå D: Tone is informative and positive about development.',
                skill: 'Author\'s Purpose'
            },
            17: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! The "How to Learn from Mistakes" list begins with: "1. Stay calm and avoid self-criticism."<br><br>‚ùå A: Blaming others isn\'t recommended.<br>‚ùå C: Mistakes should be analyzed, not ignored.<br>‚ùå D: Giving up contradicts the growth mindset message.',
                skill: 'Detail Comprehension'
            },
            18: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Paragraph 4 defines growth mindset: "They see challenges as chances to learn, not as threats to their intelligence."<br><br>‚ùå A: Opposite of growth mindset.<br>‚ùå C: Growth mindset believes abilities can develop.<br>‚ùå D: Growth mindset embraces mistakes as learning.',
                skill: 'Inference'
            },
            19: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Context: "By embracing mistakes as learning opportunities, we build resilience and achieve greater success"‚Äîresilience means recovering from difficulties and continuing to try.<br><br>‚ùå A: Opposite meaning.<br>‚ùå C: Resilience involves facing, not avoiding, problems.<br>‚ùå D: Not about memorization speed.',
                skill: 'Vocabulary in Context'
            },
            20: { 
                correct: 'B', 
                explanation: '‚úÖ Correct! Passage opens by stating mistakes are "valuable opportunities to improve and grow," details how to learn from them, and concludes that this builds resilience for success.<br><br>‚ùå A: Directly contradicted; mistakes are framed positively.<br>‚ùå C: Not supported; everyone makes mistakes.<br>‚ùå D: "Failure is the mother of success" contradicts this.',
                skill: 'Main Idea'
            }
        };

        const questionToPassage = {
            1:1, 2:1, 3:1, 4:1,
            5:2, 6:2, 7:2, 8:2,
            9:3, 10:3, 11:3, 12:3,
            13:4, 14:4, 15:4, 16:4,
            17:5, 18:5, 19:5, 20:5
        };

        let currentSection = 1, score = 0, answered = {}, timerSeconds = 0, timerInterval, testerName = '', testStartTime, testEndTime;

        const startScreen = document.getElementById('start-screen'), testLayout = document.getElementById('test-layout'), resultsScreen = document.getElementById('results-screen'), nameInput = document.getElementById('tester-name'), nameError = document.getElementById('name-error'), startBtn = document.getElementById('start-btn'), timerDisplay = document.getElementById('timer'), scoreDisplay = document.getElementById('score-display'), passageIndicator = document.getElementById('passage-indicator'), toast = document.getElementById('toast');

        document.addEventListener('DOMContentLoaded', () => { startBtn.addEventListener('click', startTest); nameInput.addEventListener('input', validateName); });

        function validateName() {
            const name = nameInput.value.trim();
            const hasChinese = /[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u.test(name);
            if (hasChinese) { nameError.classList.add('show'); startBtn.disabled = true; } else { nameError.classList.remove('show'); startBtn.disabled = name === ''; }
        }

        function startTest() {
            testerName = nameInput.value.trim() || 'Anonymous';
            testStartTime = new Date();
            startScreen.style.display = 'none';
            testLayout.classList.add('active');
            document.querySelector(`[data-passage="1"]`).classList.add('active');
            document.querySelector(`.questions-section[data-passage="1"]`).classList.add('active');
            startTimer();
            updateHeader();
        }

        function startTimer() { timerInterval = setInterval(() => { timerSeconds++; const mins = Math.floor(timerSeconds / 60).toString().padStart(2, '0'); const secs = (timerSeconds % 60).toString().padStart(2, '0'); timerDisplay.textContent = `${mins}:${secs}`; }, 1000); }

        function checkAnswer(questionNum, selected, btn) {
            if (answered[questionNum]) return;
            answered[questionNum] = selected;
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const allBtns = btn.parentElement.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.disabled = true);
            if (selected === answers[questionNum].correct) { score++; btn.classList.add('correct'); feedback.classList.add('correct'); feedback.innerHTML = `<div class="feedback-title">‚úÖ Correct!</div>${answers[questionNum].explanation}`; } else { btn.classList.add('incorrect'); feedback.classList.add('incorrect'); feedback.innerHTML = `<div class="feedback-title">‚ùå Incorrect</div>${answers[questionNum].explanation}`; allBtns.forEach(b => { if (b.textContent.trim().startsWith(answers[questionNum].correct + '.')) { b.classList.add('correct'); } }); }
            feedback.style.display = 'block';
            updateScoreDisplay();
            checkPassageComplete();
        }

        function checkPassageComplete() {
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) { if (questionToPassage[q] === currentSection) { currentPassageQuestions.push(q); } }
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (allAnswered && currentSection < 5) { document.getElementById('next-btn').textContent = 'Next Passage ‚Üí'; }
        }

        function nextSection() {
            const currentPassageQuestions = [];
            for (let q = 1; q <= 20; q++) { if (questionToPassage[q] === currentSection) { currentPassageQuestions.push(q); } }
            const allAnswered = currentPassageQuestions.every(q => answered[q]);
            if (!allAnswered) { alert(`Please answer all ${currentPassageQuestions.length} questions in this passage before continuing.`); return; }
            if (Object.keys(answered).length === 20) { showResults(); return; }
            if (currentSection < 5) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection++;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('prev-btn').disabled = false;
                document.querySelector('.questions-column').scrollTop = 0;
                document.querySelector('.passage-column').scrollTop = 0;
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                document.querySelector(`[data-passage="${currentSection}"]`).classList.remove('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.remove('active');
                currentSection--;
                document.querySelector(`[data-passage="${currentSection}"]`).classList.add('active');
                document.querySelector(`.questions-section[data-passage="${currentSection}"]`).classList.add('active');
                updateHeader();
                document.getElementById('next-btn').textContent = 'Next ‚Üí';
                if (currentSection === 1) { document.getElementById('prev-btn').disabled = true; }
                document.querySelector('.questions-column').scrollTop = 0;
                document.querySelector('.passage-column').scrollTop = 0;
            }
        }

        function updateHeader() { passageIndicator.textContent = `Passage ${currentSection} of 5`; updateScoreDisplay(); }
        function updateScoreDisplay() { scoreDisplay.textContent = `${score}/${Object.keys(answered).length}`; }

        function showResults() {
            testEndTime = new Date();
            clearInterval(timerInterval);
            testLayout.classList.remove('active');
            document.getElementById('navigation').style.display = 'none';
            resultsScreen.classList.add('active');
            document.getElementById('result-name').textContent = testerName;
            document.getElementById('result-datetime').textContent = testEndTime.toLocaleString();
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            document.getElementById('result-duration').textContent = `${durationMins}m ${durationSecs.toString().padStart(2, '0')}s`;
            document.getElementById('final-score').textContent = `${score}/20`;
            document.getElementById('result-accuracy').textContent = `${Math.round((score / 20) * 100)}%`;
            generateSkillsBreakdown();
        }

        function generateSkillsBreakdown() {
            const skillsBreakdown = document.getElementById('skills-breakdown');
            skillsBreakdown.innerHTML = '';
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) {
                const skill = answers[q].skill;
                if (!skillGroups[skill]) { skillGroups[skill] = { total: 0, correct: 0, questions: [] }; }
                skillGroups[skill].total++;
                if (answered[q] === answers[q].correct) { skillGroups[skill].correct++; } else { skillGroups[skill].questions.push(q); }
            }
            Object.entries(skillGroups).forEach(([skill, data]) => {
                const isMastered = data.correct === data.total;
                const skillItem = document.createElement('div');
                skillItem.className = `skill-item ${isMastered ? 'mastered' : 'missed'}`;
                let missedInfo = '';
                if (!isMastered && data.questions.length > 0) { missedInfo = `<br><small style="color: #b71c1c">Missed: Q${data.questions.join(', Q')}</small>`; }
                skillItem.innerHTML = `<div><strong>${skill}</strong><div style="font-size: 0.9rem; color: #616161">${data.correct}/${data.total} correct</div>${missedInfo}</div><div style="font-weight: bold; color: ${isMastered ? '#2e7d32' : '#c62828'}">${isMastered ? '‚úì Mastered' : '‚ö† Review'}</div>`;
                skillsBreakdown.appendChild(skillItem);
            });
        }

        function copyForWeChat() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            let text = `üìö Reading Practice 07 Results\n\nüë§ Name: ${testerName}\nüìÖ Date: ${testEndTime.toLocaleDateString()}\n‚è±Ô∏è Time: ${durationMins}m ${durationSecs}s\n‚úÖ Score: ${score}/20 (${accuracy}%)\n\nüìä Skills Review:\n`;
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 }; skillGroups[skill].total++; if (answered[q] === answers[q].correct) skillGroups[skill].correct++; }
            Object.entries(skillGroups).forEach(([skill, data]) => { const status = data.correct === data.total ? '‚úì' : '‚ö†'; text += `${status} ${skill}: ${data.correct}/${data.total}\n`; });
            text += `\nüí° Focus on skills marked with ‚ö† for improvement.`;
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            try { document.execCommand('copy'); showToast('Results copied! Paste in WeChat to share.'); } catch (err) { alert('Please manually copy these results:\n\n' + text); }
            document.body.removeChild(textArea);
        }

        function emailResults() {
            const durationMs = testEndTime - testStartTime;
            const durationMins = Math.floor(durationMs / 60000);
            const durationSecs = Math.floor((durationMs % 60000) / 1000);
            const accuracy = Math.round((score / 20) * 100);
            let emailBody = `Reading Practice 07 Results\n\nStudent: ${testerName}\nDate Completed: ${testEndTime.toLocaleString()}\nTime Taken: ${durationMins} minutes, ${durationSecs} seconds\nScore: ${score} out of 20 questions (${accuracy}% accuracy)\n\nDetailed Results:\n----------------\n`;
            for (let q = 1; q <= 20; q++) { const isCorrect = answered[q] === answers[q].correct; emailBody += `Q${q} [${answers[q].skill}]: ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}\n`; }
            emailBody += `\nSkills Analysis:\n`;
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) skillGroups[skill] = { total: 0, correct: 0 }; skillGroups[skill].total++; if (answered[q] === answers[q].correct) skillGroups[skill].correct++; }
            Object.entries(skillGroups).forEach(([skill, data]) => { emailBody += `- ${skill}: ${data.correct}/${data.total} correct\n`; });
            const subject = encodeURIComponent(`Reading Practice 07 Results - ${testerName}`);
            const body = encodeURIComponent(emailBody);
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function downloadForLMS() {
            const resultsData = { testName: "Reading Practice 07", studentName: testerName, completedAt: testEndTime.toISOString(), durationSeconds: timerSeconds, totalQuestions: 20, correctAnswers: score, accuracyPercent: Math.round((score / 20) * 100), questionResults: [], skillsAnalysis: {} };
            for (let q = 1; q <= 20; q++) { resultsData.questionResults.push({ questionNumber: q, skill: answers[q].skill, selectedAnswer: answered[q], correctAnswer: answers[q].correct, isCorrect: answered[q] === answers[q].correct }); }
            const skillGroups = {};
            for (let q = 1; q <= 20; q++) { const skill = answers[q].skill; if (!skillGroups[skill]) { skillGroups[skill] = { totalQuestions: 0, correctAnswers: 0, missedQuestions: [] }; } skillGroups[skill].totalQuestions++; if (answered[q] === answers[q].correct) { skillGroups[skill].correctAnswers++; } else { skillGroups[skill].missedQuestions.push(q); } }
            resultsData.skillsAnalysis = skillGroups;
            const dataStr = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(resultsData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", `reading_practice_07_${testerName.replace(/\s+/g, '_')}_${new Date().toISOString().slice(0,10)}.json`);
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            showToast('Results downloaded for LMS upload!');
        }

        function downloadPDF() { alert(`PDF generation requires additional libraries. For this demo:\n\n1. Copy your results using the "Copy for WeChat" button\n2. Paste into a document\n3. Save as PDF using your browser's print function (Ctrl+P ‚Üí Save as PDF)\n\nIn a production version, this would generate a professional PDF report automatically.`); }
        function showToast(message) { toast.textContent = message; toast.style.display = 'block'; setTimeout(() => { toast.style.display = 'none'; }, 3000); }

        function restartTest() {
            currentSection = 1; score = 0; answered = {}; timerSeconds = 0; testerName = '';
            nameInput.value = ''; nameError.classList.remove('show'); startBtn.disabled = true;
            document.getElementById('next-btn').textContent = 'Next ‚Üí'; document.getElementById('prev-btn').disabled = true;
            document.getElementById('passage-indicator').textContent = 'Passage 1 of 5';
            document.querySelectorAll('.feedback').forEach(fb => { fb.style.display = 'none'; fb.classList.remove('correct', 'incorrect'); });
            document.querySelectorAll('.option-btn').forEach(btn => { btn.classList.remove('correct', 'incorrect'); btn.disabled = false; });
            resultsScreen.classList.remove('active'); startScreen.style.display = 'block';
            timerDisplay.textContent = '00:00'; scoreDisplay.textContent = '0/0';
            clearInterval(timerInterval);
        }
    </script>
</body>
</html>